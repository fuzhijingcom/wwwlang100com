!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="http://style.org.hc360.cn/js/projects/UBA/dist/",e(0)}([function(t,e,r){!function(t){var e=window.location.host;"dxcrm.inc.hc360.com"!==e&&(window._hcuba_&&window._hcuba_.trackPageView||t&&t())}(function(){r(1),r(2),r(3);var t=(r(4),r(5));if(!t.isBot()){var e=r(7),n=new e,i=t.global._hcuba_||[["setAccountId","00000000000000000000000000000"]];i.forEach(function(t){var e=t.shift();n[e].apply(n,t)}),n.init(),t.global._hcuba_={trackPageView:function(){return n.trackerPageView.apply(n,arguments)}}}})},function(t,e,r){var n,i;!function(o,a){"use strict";n=a,i="function"==typeof n?n.call(e,r,e,t):n,!(void 0!==i&&(t.exports=i))}(this,function(){var t,e,r=Array,n=r.prototype,i=Object,o=i.prototype,a=Function,s=a.prototype,u=String,c=u.prototype,l=Number,h=l.prototype,f=n.slice,d=n.splice,p=n.push,g=n.unshift,v=n.concat,b=n.join,y=s.call,m=s.apply,w=Math.max,E=Math.min,O=o.toString,T="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,N=Function.prototype.toString,x=/^\s*class /,S=function(t){try{var e=N.call(t),r=e.replace(/\/\/.*\n/g,""),n=r.replace(/\/\*[.\s\S]*\*\//g,""),i=n.replace(/\n/gm," ").replace(/ {2}/g," ");return x.test(i)}catch(o){return!1}},C=function(t){try{return!S(t)&&(N.call(t),!0)}catch(e){return!1}},D="[object Function]",_="[object GeneratorFunction]",t=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(T)return C(t);if(S(t))return!1;var e=O.call(t);return e===D||e===_},A=RegExp.prototype.exec,j=function(t){try{return A.call(t),!0}catch(e){return!1}},I="[object RegExp]";e=function(t){return"object"==typeof t&&(T?j(t):O.call(t)===I)};var M,k=String.prototype.valueOf,P=function(t){try{return k.call(t),!0}catch(e){return!1}},L="[object String]";M=function(t){return"string"==typeof t||"object"==typeof t&&(T?P(t):O.call(t)===L)};var R=i.defineProperty&&function(){try{var t={};i.defineProperty(t,"x",{enumerable:!1,value:t});for(var e in t)return!1;return t.x===t}catch(r){return!1}}(),U=function(t){var e;return e=R?function(t,e,r,n){!n&&e in t||i.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:r})}:function(t,e,r,n){!n&&e in t||(t[e]=r)},function(r,n,i){for(var o in n)t.call(n,o)&&e(r,o,n[o],i)}}(o.hasOwnProperty),F=function(t){var e=typeof t;return null===t||"object"!==e&&"function"!==e},q=l.isNaN||function(t){return t!==t},V={ToInteger:function(t){var e=+t;return q(e)?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e},ToPrimitive:function(e){var r,n,i;if(F(e))return e;if(n=e.valueOf,t(n)&&(r=n.call(e),F(r)))return r;if(i=e.toString,t(i)&&(r=i.call(e),F(r)))return r;throw new TypeError},ToObject:function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return i(t)},ToUint32:function(t){return t>>>0}},B=function(){};U(s,{bind:function(e){var r=this;if(!t(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var n,o=f.call(arguments,1),s=function(){if(this instanceof n){var t=m.call(r,this,v.call(o,f.call(arguments)));return i(t)===t?t:this}return m.call(r,e,v.call(o,f.call(arguments)))},u=w(0,r.length-o.length),c=[],l=0;l<u;l++)p.call(c,"$"+l);return n=a("binder","return function ("+b.call(c,",")+"){ return binder.apply(this, arguments); }")(s),r.prototype&&(B.prototype=r.prototype,n.prototype=new B,B.prototype=null),n}});var z=y.bind(o.hasOwnProperty),Y=y.bind(o.toString),J=y.bind(f),X=m.bind(f),H=y.bind(c.slice),W=y.bind(c.split),$=y.bind(c.indexOf),Z=y.bind(p),G=y.bind(o.propertyIsEnumerable),K=y.bind(n.sort),Q=r.isArray||function(t){return"[object Array]"===Y(t)},tt=1!==[].unshift(0);U(n,{unshift:function(){return g.apply(this,arguments),this.length}},tt),U(r,{isArray:Q});var et=i("a"),rt="a"!==et[0]||!(0 in et),nt=function(t){var e=!0,r=!0,n=!1;if(t)try{t.call("foo",function(t,r,n){"object"!=typeof n&&(e=!1)}),t.call([1],function(){"use strict";r="string"==typeof this},"x")}catch(i){n=!0}return!!t&&!n&&e&&r};U(n,{forEach:function(e){var r,n=V.ToObject(this),i=rt&&M(this)?W(this,""):n,o=-1,a=V.ToUint32(i.length);if(arguments.length>1&&(r=arguments[1]),!t(e))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++o<a;)o in i&&("undefined"==typeof r?e(i[o],o,n):e.call(r,i[o],o,n))}},!nt(n.forEach)),U(n,{map:function(e){var n,i=V.ToObject(this),o=rt&&M(this)?W(this,""):i,a=V.ToUint32(o.length),s=r(a);if(arguments.length>1&&(n=arguments[1]),!t(e))throw new TypeError("Array.prototype.map callback must be a function");for(var u=0;u<a;u++)u in o&&("undefined"==typeof n?s[u]=e(o[u],u,i):s[u]=e.call(n,o[u],u,i));return s}},!nt(n.map)),U(n,{filter:function(e){var r,n,i=V.ToObject(this),o=rt&&M(this)?W(this,""):i,a=V.ToUint32(o.length),s=[];if(arguments.length>1&&(n=arguments[1]),!t(e))throw new TypeError("Array.prototype.filter callback must be a function");for(var u=0;u<a;u++)u in o&&(r=o[u],("undefined"==typeof n?e(r,u,i):e.call(n,r,u,i))&&Z(s,r));return s}},!nt(n.filter)),U(n,{every:function(e){var r,n=V.ToObject(this),i=rt&&M(this)?W(this,""):n,o=V.ToUint32(i.length);if(arguments.length>1&&(r=arguments[1]),!t(e))throw new TypeError("Array.prototype.every callback must be a function");for(var a=0;a<o;a++)if(a in i&&!("undefined"==typeof r?e(i[a],a,n):e.call(r,i[a],a,n)))return!1;return!0}},!nt(n.every)),U(n,{some:function(e){var r,n=V.ToObject(this),i=rt&&M(this)?W(this,""):n,o=V.ToUint32(i.length);if(arguments.length>1&&(r=arguments[1]),!t(e))throw new TypeError("Array.prototype.some callback must be a function");for(var a=0;a<o;a++)if(a in i&&("undefined"==typeof r?e(i[a],a,n):e.call(r,i[a],a,n)))return!0;return!1}},!nt(n.some));var it=!1;n.reduce&&(it="object"==typeof n.reduce.call("es5",function(t,e,r,n){return n})),U(n,{reduce:function(e){var r=V.ToObject(this),n=rt&&M(this)?W(this,""):r,i=V.ToUint32(n.length);if(!t(e))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===i&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var o,a=0;if(arguments.length>=2)o=arguments[1];else for(;;){if(a in n){o=n[a++];break}if(++a>=i)throw new TypeError("reduce of empty array with no initial value")}for(;a<i;a++)a in n&&(o=e(o,n[a],a,r));return o}},!it);var ot=!1;n.reduceRight&&(ot="object"==typeof n.reduceRight.call("es5",function(t,e,r,n){return n})),U(n,{reduceRight:function(e){var r=V.ToObject(this),n=rt&&M(this)?W(this,""):r,i=V.ToUint32(n.length);if(!t(e))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===i&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var o,a=i-1;if(arguments.length>=2)o=arguments[1];else for(;;){if(a in n){o=n[a--];break}if(--a<0)throw new TypeError("reduceRight of empty array with no initial value")}if(a<0)return o;do a in n&&(o=e(o,n[a],a,r));while(a--);return o}},!ot);var at=n.indexOf&&[0,1].indexOf(1,2)!==-1;U(n,{indexOf:function(t){var e=rt&&M(this)?W(this,""):V.ToObject(this),r=V.ToUint32(e.length);if(0===r)return-1;var n=0;for(arguments.length>1&&(n=V.ToInteger(arguments[1])),n=n>=0?n:w(0,r+n);n<r;n++)if(n in e&&e[n]===t)return n;return-1}},at);var st=n.lastIndexOf&&[0,1].lastIndexOf(0,-3)!==-1;U(n,{lastIndexOf:function(t){var e=rt&&M(this)?W(this,""):V.ToObject(this),r=V.ToUint32(e.length);if(0===r)return-1;var n=r-1;for(arguments.length>1&&(n=E(n,V.ToInteger(arguments[1]))),n=n>=0?n:r-Math.abs(n);n>=0;n--)if(n in e&&t===e[n])return n;return-1}},st);var ut=function(){var t=[1,2],e=t.splice();return 2===t.length&&Q(e)&&0===e.length}();U(n,{splice:function(t,e){return 0===arguments.length?[]:d.apply(this,arguments)}},!ut);var ct=function(){var t={};return n.splice.call(t,0,0,1),1===t.length}();U(n,{splice:function(t,e){if(0===arguments.length)return[];var r=arguments;return this.length=w(V.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof e&&(r=J(arguments),r.length<2?Z(r,this.length-t):r[1]=V.ToInteger(e)),d.apply(this,r)}},!ct);var lt=function(){var t=new r(1e5);return t[8]="x",t.splice(1,1),7===t.indexOf("x")}(),ht=function(){var t=256,e=[];return e[t]="a",e.splice(t+1,0,"b"),"a"===e[t]}();U(n,{splice:function(t,e){for(var r,n=V.ToObject(this),i=[],o=V.ToUint32(n.length),a=V.ToInteger(t),s=a<0?w(o+a,0):E(a,o),c=E(w(V.ToInteger(e),0),o-s),l=0;l<c;)r=u(s+l),z(n,r)&&(i[l]=n[r]),l+=1;var h,f=J(arguments,2),d=f.length;if(d<c){l=s;for(var p=o-c;l<p;)r=u(l+c),h=u(l+d),z(n,r)?n[h]=n[r]:delete n[h],l+=1;l=o;for(var g=o-c+d;l>g;)delete n[l-1],l-=1}else if(d>c)for(l=o-c;l>s;)r=u(l+c-1),h=u(l+d-1),z(n,r)?n[h]=n[r]:delete n[h],l-=1;l=s;for(var v=0;v<f.length;++v)n[l]=f[v],l+=1;return n.length=o-c+d,i}},!lt||!ht);var ft,dt=n.join;try{ft="1,2,3"!==Array.prototype.join.call("123",",")}catch(pt){ft=!0}ft&&U(n,{join:function(t){var e="undefined"==typeof t?",":t;return dt.call(M(this)?W(this,""):this,e)}},ft);var gt="1,2"!==[1,2].join(void 0);gt&&U(n,{join:function(t){var e="undefined"==typeof t?",":t;return dt.call(this,e)}},gt);var vt=function(t){for(var e=V.ToObject(this),r=V.ToUint32(e.length),n=0;n<arguments.length;)e[r+n]=arguments[n],n+=1;return e.length=r+n,r+n},bt=function(){var t={},e=Array.prototype.push.call(t,void 0);return 1!==e||1!==t.length||"undefined"!=typeof t[0]||!z(t,0)}();U(n,{push:function(t){return Q(this)?p.apply(this,arguments):vt.apply(this,arguments)}},bt);var yt=function(){var t=[],e=t.push(void 0);return 1!==e||1!==t.length||"undefined"!=typeof t[0]||!z(t,0)}();U(n,{push:vt},yt),U(n,{slice:function(t,e){var r=M(this)?W(this,""):this;return X(r,arguments)}},rt);var mt=function(){try{return[1,2].sort(null),[1,2].sort({}),!0}catch(t){}return!1}(),wt=function(){try{return[1,2].sort(/a/),!1}catch(t){}return!0}(),Et=function(){try{return[1,2].sort(void 0),!0}catch(t){}return!1}();U(n,{sort:function(e){if("undefined"==typeof e)return K(this);if(!t(e))throw new TypeError("Array.prototype.sort callback must be a function");return K(this,e)}},mt||!Et||!wt);var Ot=!G({toString:null},"toString"),Tt=G(function(){},"prototype"),Nt=!z("x","0"),xt=function(t){var e=t.constructor;return e&&e.prototype===t},St={$window:!0,$console:!0,$parent:!0,$self:!0,$frame:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$external:!0},Ct=function(){if("undefined"==typeof window)return!1;for(var t in window)try{!St["$"+t]&&z(window,t)&&null!==window[t]&&"object"==typeof window[t]&&xt(window[t])}catch(e){return!0}return!1}(),Dt=function(t){if("undefined"==typeof window||!Ct)return xt(t);try{return xt(t)}catch(e){return!1}},_t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],At=_t.length,jt=function(t){return"[object Arguments]"===Y(t)},It=function(e){return null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&!Q(e)&&t(e.callee)},Mt=jt(arguments)?jt:It;U(i,{keys:function(e){var r=t(e),n=Mt(e),i=null!==e&&"object"==typeof e,o=i&&M(e);if(!i&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var a=[],s=Tt&&r;if(o&&Nt||n)for(var c=0;c<e.length;++c)Z(a,u(c));if(!n)for(var l in e)s&&"prototype"===l||!z(e,l)||Z(a,u(l));if(Ot)for(var h=Dt(e),f=0;f<At;f++){var d=_t[f];h&&"constructor"===d||!z(e,d)||Z(a,d)}return a}});var kt=i.keys&&function(){return 2===i.keys(arguments).length}(1,2),Pt=i.keys&&function(){var t=i.keys(arguments);return 1!==arguments.length||1!==t.length||1!==t[0]}(1),Lt=i.keys;U(i,{keys:function(t){return Lt(Mt(t)?J(t):t)}},!kt||Pt);var Rt,Ut,Ft=0!==new Date(-0xc782b5b342b24).getUTCMonth(),qt=new Date(-0x55d318d56a724),Vt=new Date(14496624e5),Bt="Mon, 01 Jan -45875 11:59:59 GMT"!==qt.toUTCString(),zt=qt.getTimezoneOffset();zt<-720?(Rt="Tue Jan 02 -45875"!==qt.toDateString(),Ut=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Vt.toString())):(Rt="Mon Jan 01 -45875"!==qt.toDateString(),Ut=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Vt.toString()));var Yt=y.bind(Date.prototype.getFullYear),Jt=y.bind(Date.prototype.getMonth),Xt=y.bind(Date.prototype.getDate),Ht=y.bind(Date.prototype.getUTCFullYear),Wt=y.bind(Date.prototype.getUTCMonth),$t=y.bind(Date.prototype.getUTCDate),Zt=y.bind(Date.prototype.getUTCDay),Gt=y.bind(Date.prototype.getUTCHours),Kt=y.bind(Date.prototype.getUTCMinutes),Qt=y.bind(Date.prototype.getUTCSeconds),te=y.bind(Date.prototype.getUTCMilliseconds),ee=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],re=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ne=function(t,e){return Xt(new Date(e,t,0))};U(Date.prototype,{getFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Yt(this);return t<0&&Jt(this)>11?t+1:t},getMonth:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Yt(this),e=Jt(this);return t<0&&e>11?0:e},getDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Yt(this),e=Jt(this),r=Xt(this);if(t<0&&e>11){if(12===e)return r;var n=ne(0,t+1);return n-r+1}return r},getUTCFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Ht(this);return t<0&&Wt(this)>11?t+1:t},getUTCMonth:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Ht(this),e=Wt(this);return t<0&&e>11?0:e},getUTCDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Ht(this),e=Wt(this),r=$t(this);if(t<0&&e>11){if(12===e)return r;var n=ne(0,t+1);return n-r+1}return r}},Ft),U(Date.prototype,{toUTCString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Zt(this),e=$t(this),r=Wt(this),n=Ht(this),i=Gt(this),o=Kt(this),a=Qt(this);return ee[t]+", "+(e<10?"0"+e:e)+" "+re[r]+" "+n+" "+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)+":"+(a<10?"0"+a:a)+" GMT"}},Ft||Bt),U(Date.prototype,{toDateString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=this.getDay(),e=this.getDate(),r=this.getMonth(),n=this.getFullYear();return ee[t]+" "+re[r]+" "+(e<10?"0"+e:e)+" "+n}},Ft||Rt),(Ft||Ut)&&(Date.prototype.toString=function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=this.getDay(),e=this.getDate(),r=this.getMonth(),n=this.getFullYear(),i=this.getHours(),o=this.getMinutes(),a=this.getSeconds(),s=this.getTimezoneOffset(),u=Math.floor(Math.abs(s)/60),c=Math.floor(Math.abs(s)%60);return ee[t]+" "+re[r]+" "+(e<10?"0"+e:e)+" "+n+" "+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)+":"+(a<10?"0"+a:a)+" GMT"+(s>0?"-":"+")+(u<10?"0"+u:u)+(c<10?"0"+c:c)},R&&i.defineProperty(Date.prototype,"toString",{configurable:!0,enumerable:!1,writable:!0}));var ie=-621987552e5,oe="-000001",ae=Date.prototype.toISOString&&new Date(ie).toISOString().indexOf(oe)===-1,se=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date(-1).toISOString(),ue=y.bind(Date.prototype.getTime);U(Date.prototype,{toISOString:function(){if(!isFinite(this)||!isFinite(ue(this)))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var t=Ht(this),e=Wt(this);t+=Math.floor(e/12),e=(e%12+12)%12;var r=[e+1,$t(this),Gt(this),Kt(this),Qt(this)];t=(t<0?"-":t>9999?"+":"")+H("00000"+Math.abs(t),0<=t&&t<=9999?-4:-6);for(var n=0;n<r.length;++n)r[n]=H("00"+r[n],-2);return t+"-"+J(r,0,2).join("-")+"T"+J(r,2).join(":")+"."+H("000"+te(this),-3)+"Z"}},ae||se);var ce=function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&new Date(ie).toJSON().indexOf(oe)!==-1&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(t){return!1}}();ce||(Date.prototype.toJSON=function(e){var r=i(this),n=V.ToPrimitive(r);if("number"==typeof n&&!isFinite(n))return null;var o=r.toISOString;if(!t(o))throw new TypeError("toISOString property is not callable");return o.call(r)});var le=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),he=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z")),fe=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));if(fe||he||!le){var de=Math.pow(2,31)-1,pe=q(new Date(1970,0,1,0,0,0,de+1).getTime());Date=function(t){var e=function(r,n,i,o,a,s,c){var l,h=arguments.length;if(this instanceof t){var f=s,d=c;if(pe&&h>=7&&c>de){var p=Math.floor(c/de)*de,g=Math.floor(p/1e3);f+=g,d-=1e3*g}l=1===h&&u(r)===r?new t(e.parse(r)):h>=7?new t(r,n,i,o,a,f,d):h>=6?new t(r,n,i,o,a,f):h>=5?new t(r,n,i,o,a):h>=4?new t(r,n,i,o):h>=3?new t(r,n,i):h>=2?new t(r,n):h>=1?new t(r instanceof t?+r:r):new t}else l=t.apply(this,arguments);return F(l)||U(l,{constructor:e},!0),l},r=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),n=[0,31,59,90,120,151,181,212,243,273,304,334,365],i=function(t,e){var r=e>1?1:0;return n[e]+Math.floor((t-1969+r)/4)-Math.floor((t-1901+r)/100)+Math.floor((t-1601+r)/400)+365*(t-1970)},o=function(e){var r=0,n=e;if(pe&&n>de){var i=Math.floor(n/de)*de,o=Math.floor(i/1e3);r+=o,n-=1e3*o}return l(new t(1970,0,1,0,0,r,n))};for(var a in t)z(t,a)&&(e[a]=t[a]);U(e,{now:t.now,UTC:t.UTC},!0),e.prototype=t.prototype,U(e.prototype,{constructor:e},!0);var s=function(e){var n=r.exec(e);if(n){var a,s=l(n[1]),u=l(n[2]||1)-1,c=l(n[3]||1)-1,h=l(n[4]||0),f=l(n[5]||0),d=l(n[6]||0),p=Math.floor(1e3*l(n[7]||0)),g=Boolean(n[4]&&!n[8]),v="-"===n[9]?1:-1,b=l(n[10]||0),y=l(n[11]||0),m=f>0||d>0||p>0;return h<(m?24:25)&&f<60&&d<60&&p<1e3&&u>-1&&u<12&&b<24&&y<60&&c>-1&&c<i(s,u+1)-i(s,u)&&(a=60*(24*(i(s,u)+c)+h+b*v),a=1e3*(60*(a+f+y*v)+d)+p,g&&(a=o(a)),-864e13<=a&&a<=864e13)?a:NaN}return t.parse.apply(this,arguments)};return U(e,{parse:s}),e}(Date)}Date.now||(Date.now=function(){return(new Date).getTime()});var ge=h.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),ve={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(t,e){for(var r=-1,n=e;++r<ve.size;)n+=t*ve.data[r],ve.data[r]=n%ve.base,n=Math.floor(n/ve.base)},divide:function(t){for(var e=ve.size,r=0;--e>=0;)r+=ve.data[e],ve.data[e]=Math.floor(r/t),r=r%t*ve.base},numToString:function(){for(var t=ve.size,e="";--t>=0;)if(""!==e||0===t||0!==ve.data[t]){var r=u(ve.data[t]);""===e?e=r:e+=H("0000000",0,7-r.length)+r}return e},pow:function Le(t,e,r){return 0===e?r:e%2===1?Le(t,e-1,r*t):Le(t*t,e/2,r)},log:function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}},be=function(t){var e,r,n,i,o,a,s,c;if(e=l(t),e=q(e)?0:Math.floor(e),e<0||e>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(r=l(this),q(r))return"NaN";if(r<=-1e21||r>=1e21)return u(r);if(n="",r<0&&(n="-",r=-r),i="0",r>1e-21)if(o=ve.log(r*ve.pow(2,69,1))-69,a=o<0?r*ve.pow(2,-o,1):r/ve.pow(2,o,1),a*=4503599627370496,o=52-o,o>0){for(ve.multiply(0,a),s=e;s>=7;)ve.multiply(1e7,0),s-=7;for(ve.multiply(ve.pow(10,s,1),0),s=o-1;s>=23;)ve.divide(1<<23),s-=23;ve.divide(1<<s),ve.multiply(1,1),ve.divide(2),i=ve.numToString()}else ve.multiply(0,a),ve.multiply(1<<-o,0),i=ve.numToString()+H("0.00000000000000000000",2,2+e);return e>0?(c=i.length,i=c<=e?n+H("0.0000000000000000000",0,e-c+2)+i:n+H(i,0,c-e)+"."+H(i,c-e)):i=n+i,i};U(h,{toFixed:be},ge);var ye=function(){try{return"1"===1..toPrecision(void 0)}catch(t){return!0}}(),me=h.toPrecision;U(h,{toPrecision:function(t){return"undefined"==typeof t?me.call(this):me.call(this,t)}},ye),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var t="undefined"==typeof/()??/.exec("")[1],r=Math.pow(2,32)-1;c.split=function(n,i){var o=String(this);if("undefined"==typeof n&&0===i)return[];if(!e(n))return W(this,n,i);var a,s,u,c,l=[],h=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(n.sticky?"y":""),f=0,d=new RegExp(n.source,h+"g");t||(a=new RegExp("^"+d.source+"$(?!\\s)",h));var g="undefined"==typeof i?r:V.ToUint32(i);for(s=d.exec(o);s&&(u=s.index+s[0].length,!(u>f&&(Z(l,H(o,f,s.index)),!t&&s.length>1&&s[0].replace(a,function(){for(var t=1;t<arguments.length-2;t++)"undefined"==typeof arguments[t]&&(s[t]=void 0)}),s.length>1&&s.index<o.length&&p.apply(l,J(s,1)),c=s[0].length,f=u,l.length>=g)));)d.lastIndex===s.index&&d.lastIndex++,s=d.exec(o);return f===o.length?!c&&d.test("")||Z(l,""):Z(l,H(o,f)),l.length>g?J(l,0,g):l}}():"0".split(void 0,0).length&&(c.split=function(t,e){return"undefined"==typeof t&&0===e?[]:W(this,t,e)});var we=c.replace,Ee=function(){var t=[];return"x".replace(/x(.)?/g,function(e,r){Z(t,r)}),1===t.length&&"undefined"==typeof t[0]}();Ee||(c.replace=function(r,n){var i=t(n),o=e(r)&&/\)[*?]/.test(r.source);if(i&&o){var a=function(t){var e=arguments.length,i=r.lastIndex;r.lastIndex=0;var o=r.exec(t)||[];return r.lastIndex=i,Z(o,arguments[e-2],arguments[e-1]),n.apply(this,o)};return we.call(this,r,a)}return we.call(this,r,n)});var Oe=c.substr,Te="".substr&&"b"!=="0b".substr(-1);U(c,{substr:function(t,e){var r=t;return t<0&&(r=w(this.length+t,0)),Oe.call(this,r,e)}},Te);var Ne="\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",xe="\u200b",Se="["+Ne+"]",Ce=new RegExp("^"+Se+Se+"*"),De=new RegExp(Se+Se+"*$"),_e=c.trim&&(Ne.trim()||!xe.trim());U(c,{trim:function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");return u(this).replace(Ce,"").replace(De,"")}},_e);var Ae=y.bind(String.prototype.trim),je=c.lastIndexOf&&"abc\u3042\u3044".lastIndexOf("\u3042\u3044",2)!==-1;U(c,{lastIndexOf:function(t){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");for(var e=u(this),r=u(t),n=arguments.length>1?l(arguments[1]):NaN,i=q(n)?1/0:V.ToInteger(n),o=E(w(i,0),e.length),a=r.length,s=o+a;s>0;){s=w(0,s-a);var c=$(H(e,s,o+a),r);if(c!==-1)return s+c}return-1}},je);var Ie=c.lastIndexOf;if(U(c,{lastIndexOf:function(t){return Ie.apply(this,arguments)}},1!==c.lastIndexOf.length),8===parseInt(Ne+"08")&&22===parseInt(Ne+"0x16")||(parseInt=function(t){var e=/^[\-+]?0[xX]/;return function(r,n){var i=Ae(String(r)),o=l(n)||(e.test(i)?16:10);return t(i,o)}}(parseInt)),1/parseFloat("-0")!==-(1/0)&&(parseFloat=function(t){return function(e){var r=Ae(String(e)),n=t(r);return 0===n&&"-"===H(r,0,1)?-0:n}}(parseFloat)),"RangeError: test"!==String(new RangeError("test"))){var Me=function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");var t=this.name;"undefined"==typeof t?t="Error":"string"!=typeof t&&(t=u(t));var e=this.message;return"undefined"==typeof e?e="":"string"!=typeof e&&(e=u(e)),t?e?t+": "+e:t:e};Error.prototype.toString=Me}if(R){var ke=function(t,e){if(G(t,e)){var r=Object.getOwnPropertyDescriptor(t,e);r.configurable&&(r.enumerable=!1,Object.defineProperty(t,e,r))}};ke(Error.prototype,"message"),""!==Error.prototype.message&&(Error.prototype.message=""),ke(Error.prototype,"name")}if("/a/gim"!==String(/a/gim)){var Pe=function(){var t="/"+this.source+"/";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),t};RegExp.prototype.toString=Pe}})},function(t,e,r){var n,i;!function(o,a){"use strict";n=a,i="function"==typeof n?n.call(e,r,e,t):n,!(void 0!==i&&(t.exports=i))}(this,function(){var t,e,r,n,i=Function.call,o=Object.prototype,a=i.bind(o.hasOwnProperty),s=i.bind(o.propertyIsEnumerable),u=i.bind(o.toString),c=a(o,"__defineGetter__");c&&(t=i.bind(o.__defineGetter__),e=i.bind(o.__defineSetter__),r=i.bind(o.__lookupGetter__),n=i.bind(o.__lookupSetter__));var l=function(t){return null==t||"object"!=typeof t&&"function"!=typeof t};Object.getPrototypeOf||(Object.getPrototypeOf=function(t){var e=t.__proto__;return e||null===e?e:"[object Function]"===u(t.constructor)?t.constructor.prototype:t instanceof Object?o:null});var h=function(t){try{return t.sentinel=0,0===Object.getOwnPropertyDescriptor(t,"sentinel").value}catch(e){return!1}};if(Object.defineProperty){var f=h({}),d="undefined"==typeof document||h(document.createElement("div"));if(!d||!f)var p=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||p){var g="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(t,e){if(l(t))throw new TypeError(g+t);if(p)try{return p.call(Object,t,e)}catch(i){}var u;if(!a(t,e))return u;if(u={enumerable:s(t,e),configurable:!0},c){var h=t.__proto__,f=t!==o;f&&(t.__proto__=o);var d=r(t,e),v=n(t,e);if(f&&(t.__proto__=h),d||v)return d&&(u.get=d),v&&(u.set=v),u}return u.value=t[e],u.writable=!0,u}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){return Object.keys(t)}),!Object.create){var v,b=!({__proto__:null}instanceof Object),y=function(){if(!document.domain)return!1;try{return!!new ActiveXObject("htmlfile")}catch(t){return!1}},m=function(){var t,e;e=new ActiveXObject("htmlfile");var r="script";return e.write("<"+r+"></"+r+">"),e.close(),t=e.parentWindow.Object.prototype,e=null,t},w=function(){var t,e=document.createElement("iframe"),r=document.body||document.documentElement;return e.style.display="none",r.appendChild(e),e.src="javascript:",t=e.contentWindow.Object.prototype,r.removeChild(e),e=null,t};v=b||"undefined"==typeof document?function(){return{__proto__:null}}:function(){var t=y()?m():w();delete t.constructor,delete t.hasOwnProperty,delete t.propertyIsEnumerable,delete t.isPrototypeOf,delete t.toLocaleString,delete t.toString,delete t.valueOf;var e=function(){};return e.prototype=t,v=function(){return new e},new e},Object.create=function(t,e){var r,n=function(){};if(null===t)r=v();else{if(null!==t&&l(t))throw new TypeError("Object prototype may only be an Object or null");n.prototype=t,r=new n,r.__proto__=t}return void 0!==e&&Object.defineProperties(r,e),r}}var E=function(t){try{return Object.defineProperty(t,"sentinel",{}),"sentinel"in t}catch(e){return!1}};if(Object.defineProperty){var O=E({}),T="undefined"==typeof document||E(document.createElement("div"));if(!O||!T)var N=Object.defineProperty,x=Object.defineProperties}if(!Object.defineProperty||N){var S="Property description must be an object: ",C="Object.defineProperty called on non-object: ",D="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(i,a,s){if(l(i))throw new TypeError(C+i);if(l(s))throw new TypeError(S+s);if(N)try{return N.call(Object,i,a,s)}catch(u){}if("value"in s)if(c&&(r(i,a)||n(i,a))){var h=i.__proto__;i.__proto__=o,delete i[a],i[a]=s.value,i.__proto__=h}else i[a]=s.value;else{var f="get"in s,d="set"in s;if(!c&&(f||d))throw new TypeError(D);f&&t(i,a,s.get),d&&e(i,a,s.set)}return i}}Object.defineProperties&&!x||(Object.defineProperties=function(t,e){if(x)try{return x.call(Object,t,e)}catch(r){}return Object.keys(e).forEach(function(r){"__proto__"!==r&&Object.defineProperty(t,r,e[r])}),t}),Object.seal||(Object.seal=function(t){if(Object(t)!==t)throw new TypeError("Object.seal can only be called on Objects.");return t}),Object.freeze||(Object.freeze=function(t){if(Object(t)!==t)throw new TypeError("Object.freeze can only be called on Objects.");return t});try{Object.freeze(function(){})}catch(_){Object.freeze=function(t){return function(e){return"function"==typeof e?e:t(e)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(t){if(Object(t)!==t)throw new TypeError("Object.preventExtensions can only be called on Objects.");return t}),Object.isSealed||(Object.isSealed=function(t){if(Object(t)!==t)throw new TypeError("Object.isSealed can only be called on Objects.");return!1}),Object.isFrozen||(Object.isFrozen=function(t){if(Object(t)!==t)throw new TypeError("Object.isFrozen can only be called on Objects.");return!1}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)!==t)throw new TypeError("Object.isExtensible can only be called on Objects.");for(var e="";a(t,e);)e+="?";t[e]=!0;var r=a(t,e);return delete t[e],r})})},function(module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return t<10?"0"+t:t}function this_value(){return this.valueOf()}function quote(t){return rx_escapable.lastIndex=0,rx_escapable.test(t)?'"'+t.replace(rx_escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var r,n,i,o,a,s=gap,u=e[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof rep&&(u=rep.call(e,t,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,r=0;r<o;r+=1)a[r]=str(r,u)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(o=rep.length,r=0;r<o;r+=1)"string"==typeof rep[r]&&(n=rep[r],i=str(n,u),i&&a.push(quote(n)+(gap?": ":":")+i));else for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(i=str(n,u),i&&a.push(quote(n)+(gap?": ":":")+i));return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,r){var n;if(gap="",indent="","number"==typeof r)for(n=0;n<r;n+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var r,n,i=t[e];if(i&&"object"==typeof i)for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n=walk(i,r),void 0!==n?i[r]=n:delete i[r]);return reviver.call(t,e,i)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},function(t,e){function r(){this.id=this.createUUID()}r.prototype.valueOf=function(){return this.id},r.prototype.toString=function(){return this.id},r.prototype.createUUID=function(){var t=new Date(1582,10,15,0,0,0,0),e=new Date,n=e.getTime()-t.getTime(),i="",o=r.getIntegerBits(n,0,31),a=r.getIntegerBits(n,32,47),s=r.getIntegerBits(n,48,59)+"1",u=r.getIntegerBits(r.rand(4095),0,7),c=r.getIntegerBits(r.rand(4095),0,7),l=r.getIntegerBits(r.rand(8191),0,7)+r.getIntegerBits(r.rand(8191),8,15)+r.getIntegerBits(r.rand(8191),0,7)+r.getIntegerBits(r.rand(8191),8,15)+r.getIntegerBits(r.rand(8191),0,15);
return o+i+a+i+s+i+u+c+i+l},r.getIntegerBits=function(t,e,n){var i=r.returnBase(t,16),o=new Array,a="",s=0;for(s=0;s<i.length;s++)o.push(i.substring(s,s+1));for(s=Math.floor(e/4);s<=Math.floor(n/4);s++)a+=o[s]&&""!=o[s]?o[s]:"0";return a},r.returnBase=function(t,e){var r,n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];if(t<e)r=n[t];else{var i=""+Math.floor(t/e),o=t-i*e;r=i>=e?this.returnBase(i,e)+n[o]:n[i]+n[o]}return r},r.rand=function(t){return Math.floor(Math.random()*t)},t.exports=r},function(t,e,r){for(var n={},i=n.toString,o=n.hasOwnProperty,a="".trim,s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,u="Boolean Number String Function Array Date RegExp Object Error".split(" "),c=0,l=u.length;c<l;c++)n["[object "+u[c]+"]"]=u[c].toLowerCase();var h={getFramePageType:function(){var t,e=0,r=window.location.href;try{t=window.top.location.href,e=r==t?0:1,void 0==t&&(e=2)}catch(n){e=2}return{type:e,url:t||""}},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?n[i.call(t)]||"object":typeof t},getByteLength:function(t){"string"!=typeof t&&(t=t.toString());for(var e=0,r=0;r<t.length;r++)0!=(65280&t.charCodeAt(r))&&e++,e++;return e},parseURL:function(t){var e=t.replace(/(^\s*)|(\s*$)/g,""),r=["http","https"],n=new RegExp("^("+r.join("|")+")://","ig");!n.test(t)&&(e="http://"+e);var i=document.createElement("a");return i.href=e,{source:e,protocol:i.protocol.replace(":",""),host:i.hostname,port:i.port,query:i.search,params:function(){for(var t,e={},r=i.search.replace(/^\?/,"").split("&"),n=r.length,o=0;o<n;o++)r[o]&&(t=r[o].split("="),e[t[0]]=t[1]);return e}(),file:(i.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:i.hash.replace("#",""),path:i.pathname.replace(/^([^\/])/,"/$1"),relative:(i.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:i.pathname.replace(/^\//,"").split("/")}},getQueryString:function(t){for(var e,r=window.location.search,n=new RegExp("[\\?\\&]([^\\?\\&]+)=([^\\?\\&]+)","ig"),i={};e=n.exec(r);)i[e[1].toLowerCase()]||(i[e[1].toLowerCase()]=e[2]);return t?i[t.toLowerCase()]||"":i},isBot:function(){return!!window.navigator.userAgent.toLowerCase().match(/(bot|crawler|spider|scrapy|jiankongbao|slurp|transcoder|networkbench)/i)},global:function(){return this}(),getBrowserPlugins:function(){var t=[];try{for(var e=0,r=window.navigator.plugins.length;e<r;e++)t.push(window.navigator.plugins[e].name)}catch(n){}return t},trim:a&&!a.call("\ufeff\xa0")?function(t){return null==t?"":a.call(t)}:function(t){return null==t?"":(t+"").replace(s,"")},hasAttribute:function(t,e){return t.hasAttribute?t.hasAttribute(e):!!t[e]},addEventListener:function(t,e,r,n){document.addEventListener?t.addEventListener(e,r,!!n):document.attachEvent?t.attachEvent("on"+e,function(){var e=window.event;e.currentTarget=t,e.target=e.srcElement,r.call(t,e)}):t["on"+e]=hander},bind:function(t,e,r,n){document.addEventListener?t.addEventListener(e,r,!!n):document.attachEvent?t.attachEvent("on"+e,r):t["on"+e]=hander},removeEventListener:function(t,e,r,n){document.removeEventListener?t.removeEventListener(e,r,!!n):document.detachEvent?t.detachEvent("on"+e,r):t["on"+e]=null},ready:r(6),throttle:function(t,e){var r=null;return function(){var n=this,i=arguments;clearTimeout(r),r=setTimeout(function(){t.apply(n,i)},e)}}};h.isFunction=function(t){return"function"===h.type(t)},h.isArray=Array.isArray||function(t){return"array"===h.type(t)},h.isWindow=function(t){return null!=t&&t==t.window},h.isPlainObject=function(t){if(!t||"object"!==h.type(t)||t.nodeType||h.isWindow(t))return!1;try{if(t.constructor&&!o.call(t,"constructor")&&!o.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var r;for(r in t);return void 0===r||o.call(t,r)},h.extend=function(){var t,e,r,n,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},s=2),"object"==typeof a||h.isFunction(a)||(a={}),u===s&&(a=this,--s);s<u;s++)if(null!=(i=arguments[s]))for(n in i)t=a[n],r=i[n],a!==r&&(c&&r&&(h.isPlainObject(r)||(e=h.isArray(r)))?(e?(e=!1,o=t&&h.isArray(t)?t:[]):o=t&&h.isPlainObject(t)?t:{},a[n]=h.extend(c,o,r)):void 0!==r&&(a[n]=r));return a},h.outerWidth=function(t){var e=t.offsetWidth,r=t.currentStyle||window.getComputedStyle(t);return e+=parseInt(r.marginLeft)+parseInt(r.marginRight)},h.outerHeight=function(t){var e=t.offsetHeight,r=t.currentStyle||window.getComputedStyle(t);return e+=parseInt(r.marginTop)+parseInt(r.marginBottom)},h.height=function(t){return(t.currentStyle||window.getComputedStyle(t)).height},h.width=function(t){return(t.currentStyle||window.getComputedStyle(t)).width},h.css=function(t,e){return(t.currentStyle||window.getComputedStyle(t))[e]},h.visible=function(t,e){if(t){e=e||"both";var r=window.document.documentElement.clientWidth,n=window.document.documentElement.clientHeight;if(t.getBoundingClientRect){var i=t.getBoundingClientRect(),o=i.top>=0&&i.top<n,a=i.bottom>0&&i.bottom<=n,s=i.left>=0&&i.left<r,u=i.right>0&&i.right<=r,c=o&&a,l=s&&u,c=i.top<0&&i.bottom>n||c,l=i.left<0&&i.right>r||l;if("both"===e)return!(!c||!l);if("vertical"===e)return!!c;if("horizontal"===e)return!!l}else{var f=0,d=f+n,p="pageXOffset"in window?window.pageXOffset:window.document.documentElement.scrollLeft||t.scrollLeft,g=p+r,v=t.offsetTop,b=t.offsetTop+h.height(t),y=t.offsetLeft,m=t.offsetLeft+h.width(t),w=v,E=b,O=y,T=m;if("both"===e)return!!(E<=d&&w>=f)&&T<=g&&O>=p;if("vertical"===e)return!!(E<=d&&w>=f);if("horizontal"===e)return!!(T<=g&&O>=p)}}},t.exports=h},function(t,e,r){!function(e,r){t.exports=r()}("domready",function(t){function e(t){for(d=1;t=n.shift();)t()}var r,n=[],i=!1,o=document,a=o.documentElement,s=a.doScroll,u="DOMContentLoaded",c="addEventListener",l="onreadystatechange",h="readyState",f=s?/^loaded|^c/:/^loaded|c/,d=f.test(o[h]);return o[c]&&o[c](u,r=function(){o.removeEventListener(u,r,i),e()},i),s&&o.attachEvent(l,r=function(){/^c/.test(o[h])&&(o.detachEvent(l,r),e())}),t=s?function(e){self!=top?d?e():n.push(e):function(){try{a.doScroll("left")}catch(r){return setTimeout(function(){t(e)},50)}e()}()}:function(t){d?t():n.push(t)}})},function(t,e,r){function n(t){var e=this;i.extend(!0,e,{accountID:(new o).id,browserType:"web",lastActionTime:+new Date,userEntity:new u,pageEntity:new c,senderEntity:new s,circleHandlerEntity:null},t)}var i=r(5),o=r(4),a=r(8),s=r(10),u=r(14),c=r(16),l=r(18),h=r(12),f=parseInt(a.parseUA().ie,10);(0===f||f>=9)&&(i.global.MutationObserver=r(19),l=r(21)),n.prototype.init=function(){var t=this,e=new h(function(t,e){t()});t.senderEntity.addEventListener("onBeforeSendData",function(t){var e=this;"close"!==t.dataUncompressed.t&&"ci"!==t.dataUncompressed.t||(t.dataCompressed=e.lzString.compressToEncodedURIComponent(JSON.stringify(t.dataUncompressed)),e.compressName=e.compressMapping.compressToEncodedURIComponent,t.senders=[e.sendByImage])}),/hc360.com$/.test(i.global.location.hostname.toLowerCase())||(e=t.senderEntity.send({},"ci")),e.then(function(){t.observe()}),e["catch"](function(){})},n.prototype.observe=function(){var t=this;t.sendPageView(),i.ready(function(){t.registerEventListener(),i.global.setTimeout(function(){t.registerDOMObserver()},1e3),t.pageEntity.postMessage({action:"iframeDOMContentLoaded"})}),i.addEventListener(i.global,"beforeunload",function(){t.beforeunloadHandler()}),i.addEventListener(i.global,"message",function(e){var r=e.data;if(r)switch(r.action){case"loadCirclePlugin":t.loadCirclePlugin();break;case"browse-mode":t.circleHandlerEntity.switchToBrowseMode();break;case"circle-mode":t.circleHandlerEntity.switchToCircleMode();break;case"heat-mode":t.circleHandlerEntity.switchToHeatMode()}})},n.prototype.sendPageView=function(){var t=this,e={ai:t.accountId,b:t.browserType,ui:t.userEntity.userId,vi:t.userEntity.visitId,si:t.userEntity.sessionId,tm:t.userEntity.visitTime,ft:t.userEntity.firstVisitTime,sw:t.userEntity.screenWidth,sh:t.userEntity.screenHeight,l:t.userEntity.browserLanguage,pt:t.pageEntity.protocol,d:t.pageEntity.host,p:t.pageEntity.path,q:t.pageEntity.query,rf:t.pageEntity.referrer,pi:t.pageEntity.pageId,ti:t.pageEntity.title,cs:i.global.document.charset||"",ic:i.global.navigator.cookieEnabled,dpi:i.global.devicePixelRatio||0,ifr:t.pageEntity.pageFrameType.type,ifru:t.pageEntity.pageFrameType.type?t.pageEntity.pageFrameType.url:""},r=t.senderEntity.send(e,"pageview");r.then(function(){}),r["catch"](function(){})},n.prototype.loadCirclePlugin=function(){},n.prototype.registerEventListener=function(){var t=this,e={ai:t.accountId,b:t.browserType,vi:t.userEntity.visitId,si:t.userEntity.sessionId,ui:t.userEntity.userId,tm:+new Date,pi:t.pageEntity.pageId,ptm:t.userEntity.visitTime,pt:t.pageEntity.protocol,d:t.pageEntity.host,p:t.pageEntity.path,q:t.pageEntity.query,e:[],ifr:t.pageEntity.pageFrameType.type,ifru:t.pageEntity.pageFrameType.type?t.pageEntity.pageFrameType.url:""},r=function(r){t.lastActionTime=+new Date;for(var n=r.target||r.srcElement;n&&t.pageEntity.ignoreNodeName[n.tagName]&&n.parentNode;)n=n.parentNode;var i=t.pageEntity.getElementPath(n,!0);if(!i.ignore){var o=n.tagName;if("click"===r.type){if(t.pageEntity.ignoreClickTagNames.indexOf(o)!==-1)return;if("INPUT"===o&&t.pageEntity.buttonTypeNames.indexOf(n.type)===-1)return;if(t.pageEntity.clickTagNames.indexOf(o)===-1&&!t.pageEntity.depthLimit(n,4))return}var a=t.pageEntity.analyzeEventElementAttribute(r.type,n);a.x=i.xpath,i.obj&&(a.obj=i.obj),i.idx?a.idx=i.idx:a.idx=t.pageEntity.getElementIndex(n,a.x),e.e=[a],i.pnodeContent&&(e.e=e.e.concat(i.pnodeContent));var s=t.senderEntity.send(e,"click");s.then(function(){}),s["catch"](function(){})}};t.pageEntity.observeEventName.forEach(function(t){i.addEventListener(i.global.document,t,r)})},n.prototype.registerDOMObserver=function(){var t,e=this,r={ai:e.accountId,b:e.browserType,vi:e.userEntity.visitId,si:e.userEntity.sessionId,ui:e.userEntity.userId,pi:e.pageEntity.pageId,tm:+new Date,ptm:e.userEntity.visitTime,pt:e.pageEntity.protocol,d:e.pageEntity.host,p:e.pageEntity.path,q:e.pageEntity.query,ifr:e.pageEntity.pageFrameType.type,ifru:e.pageEntity.pageFrameType.type?e.pageEntity.pageFrameType.url:""},n=function(t){var n,o=[],a=t||[],s=e.pageEntity.getExposureNodes(a);e.pageEntity.exposureNodes=e.pageEntity.exposureNodes.concat(s),e.pageEntity.exposureNodes=e.pageEntity.uniqueExposureNodes(e.pageEntity.exposureNodes,.7),e.pageEntity.exposureNodes.forEach(function(t,e){!t.exposured&&i.visible(t.n)&&(t.exposured=!0,o.push({x:t.x,v:t.v,h:t.h,idx:t.idx}))}),o.length&&(n=e.senderEntity.send(i.extend(!0,{},r,{e:o}),"exposure"),n.then(function(){}),n["catch"](function(){}))};t=new l(i.global.document.body,{initialize:function(t){return function(t){i.global.setTimeout(function(){n(t)},0)}}(e),applyChanged:function(t){return function(t,e,r,o){i.global.setTimeout(function(){n(e)},0)}}(e)}),i.addEventListener(i.global,"scroll",i.throttle(function(){i.global.setTimeout(function(){n()},0)},500)),i.addEventListener(i.global,"resize",i.throttle(function(){i.global.setTimeout(function(){n()},0)},500))},n.prototype.beforeunloadHandler=function(){var t=this,e={ai:t.accountId,b:t.browserType,ui:t.userEntity.userId,vi:t.userEntity.visitId,si:t.userEntity.sessionId,tm:+new Date,ptm:t.userEntity.visitTime,pi:t.pageEntity.pageId,d:t.pageEntity.host,p:t.pageEntity.path,q:t.pageEntity.query,ifr:t.pageEntity.pageFrameType.type,ifru:t.pageEntity.pageFrameType.type?t.pageEntity.pageFrameType.url:""},r=t.senderEntity.send(e,"close");r.then(function(){}),r["catch"](function(){})},n.prototype.setAccountId=function(t){var e=this;e.accountId=t},t.exports=n},function(t,e,r){(function(e){t.exports={compareVersions:function(t,e){var r,n,i,o,a,s;if(t===e)return 0;for(n=(t+"").split("."),o=(e+"").split("."),a=0,s=Math.max(n.length,o.length);a<s;++a){if(r=parseInt(n[a],10),i=parseInt(o[a],10),isNaN(r)&&(r=0),isNaN(i)&&(i=0),r<i)return-1;if(r>i)return 1}return 0},parseUA:function(t){var r,n=function(t){var e=0;return parseFloat(t.replace(/\./g,function(){return 1===e++?"":"."}))},i=window,o=i&&i.navigator,a={ie:0,opera:0,gecko:0,webkit:0,safari:0,chrome:0,mobile:null,air:0,phantomjs:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,silk:0,ubuntu:0,accel:!1,webos:0,caja:o&&o.cajaVersion,secure:!1,os:null,nodejs:0,winjs:!("undefined"==typeof Windows||!Windows.System),touchEnabled:!1},s=t||o&&o.userAgent,u=i&&i.location,c=u&&u.href;return a.userAgent=s,a.secure=c&&0===c.toLowerCase().indexOf("https"),s&&(/windows|win32/i.test(s)?a.os="windows":/macintosh|mac_powerpc/i.test(s)?a.os="macintosh":/android/i.test(s)?a.os="android":/symbos/i.test(s)?a.os="symbos":/linux/i.test(s)?a.os="linux":/rhino/i.test(s)&&(a.os="rhino"),/KHTML/.test(s)&&(a.webkit=1),/IEMobile|XBLWP7/.test(s)&&(a.mobile="windows"),/Fennec/.test(s)&&(a.mobile="gecko"),r=s.match(/AppleWebKit\/([^\s]*)/),r&&r[1]&&(a.webkit=n(r[1]),a.safari=a.webkit,/PhantomJS/.test(s)&&(r=s.match(/PhantomJS\/([^\s]*)/),r&&r[1]&&(a.phantomjs=n(r[1]))),/ Mobile\//.test(s)||/iPad|iPod|iPhone/.test(s)?(a.mobile="Apple",r=s.match(/OS ([^\s]*)/),r&&r[1]&&(r=n(r[1].replace("_","."))),a.ios=r,a.os="ios",a.ipad=a.ipod=a.iphone=0,r=s.match(/iPad|iPod|iPhone/),r&&r[0]&&(a[r[0].toLowerCase()]=a.ios)):(r=s.match(/NokiaN[^\/]*|webOS\/\d\.\d/),r&&(a.mobile=r[0]),/webOS/.test(s)&&(a.mobile="WebOS",r=s.match(/webOS\/([^\s]*);/),r&&r[1]&&(a.webos=n(r[1]))),/ Android/.test(s)&&(a.mobile="Android",r=s.match(/Android ([^\s]*);/),r&&r[1]&&(a.android=n(r[1]))),/Silk/.test(s)&&(r=s.match(/Silk\/([^\s]*)/),r&&r[1]&&(a.silk=n(r[1])),a.android||(a.android=2.34,a.os="Android"),/Accelerated=true/.test(s)&&(a.accel=!0))),r=s.match(/OPR\/(\d+\.\d+)/),r&&r[1]?a.opera=n(r[1]):(r=s.match(/(Chrome|CrMo|CriOS)\/([^\s]*)/),r&&r[1]&&r[2]?(a.chrome=n(r[2]),a.safari=0,"CrMo"===r[1]&&(a.mobile="chrome")):(r=s.match(/AdobeAIR\/([^\s]*)/),r&&(a.air=r[0])))),r=s.match(/Ubuntu\ (\d+\.\d+)/),r&&r[1]&&(a.os="linux",a.ubuntu=n(r[1]),r=s.match(/\ WebKit\/([^\s]*)/),r&&r[1]&&(a.webkit=n(r[1])),r=s.match(/\ Chromium\/([^\s]*)/),r&&r[1]&&(a.chrome=n(r[1])),/ Mobile$/.test(s)&&(a.mobile="Ubuntu")),a.webkit||(/Opera/.test(s)?(r=s.match(/Opera[\s\/]([^\s]*)/),r&&r[1]&&(a.opera=n(r[1])),r=s.match(/Version\/([^\s]*)/),r&&r[1]&&(a.opera=n(r[1])),/Opera Mobi/.test(s)&&(a.mobile="opera",r=s.replace("Opera Mobi","").match(/Opera ([^\s]*)/),r&&r[1]&&(a.opera=n(r[1]))),r=s.match(/Opera Mini[^;]*/),r&&(a.mobile=r[0])):(r=s.match(/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/),r&&(r[1]||r[2])?a.ie=n(r[1]||r[2]):(r=s.match(/Gecko\/([^\s]*)/),r&&(a.gecko=1,r=s.match(/rv:([^\s\)]*)/),r&&r[1]&&(a.gecko=n(r[1]),/Mobile|Tablet/.test(s)&&(a.mobile="ffos"))))))),!i||!o||a.chrome&&a.chrome<6||(a.touchEnabled="ontouchstart"in i||"msMaxTouchPoints"in o&&o.msMaxTouchPoints>0),t||"object"==typeof e&&e.versions&&e.versions.node&&(a.os=e.platform,a.nodejs=n(e.versions.node)),a}}}).call(e,r(9))},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){g&&d&&(g=!1,d.length?p=d.concat(p):v=-1,p.length&&s())}function s(){if(!g){var t=i(a);g=!0;for(var e=p.length;e;){for(d=p,p=[];++v<e;)d&&d[v].run();v=-1,e=p.length}d=null,g=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,h,f=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var d,p=[],g=!1,v=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];p.push(new u(t,e)),1!==p.length||g||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,r){function n(t){var e=this;a.extend(!0,e,{userEntity:null,pageEntity:null,listener:{},actionMapping:{pageview:"page",click:"click",exposure:"imp",close:"close",ci:"ci",action:"action"},service:{protocol:"https:"===a.global.document.location.protocol?"https://":"http://",host:"https:"===a.global.document.location.protocol?"logrecords.hc360.com":"log.org.hc360.com",path:"/logrecordservice/sll"},compressName:"uint8",compressMapping:{compressToUTF16:"utf16",compressToEncodedURIComponent:"uri",compressToUint8Array:"uint8"},senderName:"xhr",senderMapping:{sendByXMLHttpRequest:"xhr",sendByXDomainRequest:"xdr",sendByImage:"img",sendByFormSubmit:"form"},lzString:i},t),n.prototype.init.call(e)}var i=r(11),o=r(8),a=r(5),s=r(12);n.prototype.init=function(){var t=this;t.senders=[t.sendByXMLHttpRequest,t.sendByXDomainRequest,t.sendByImage,t.sendByFormSubmit]},n.prototype.send=function(t,e){var r,n=this,i=n.actionMapping[e]||n.actionMapping.action,s=o.parseUA(),u={dataCompressed:"",dataUncompressed:t,senders:n.senders.slice(0)};u.dataUncompressed.t=i;try{a.global.Uint8Array?(u.dataCompressed=n.lzString.compressToUint8Array(JSON.stringify(u.dataUncompressed)),n.compressName=n.compressMapping.compressToUint8Array):a.global.XMLHttpRequest&&7!=parseInt(s.ie,10)?(u.dataCompressed=n.lzString.compressToUTF16(JSON.stringify(u.dataUncompressed)),n.compressName=n.compressMapping.compressToUTF16):(u.dataCompressed=n.lzString.compressToEncodedURIComponent(JSON.stringify(u.dataUncompressed)),n.compressName=n.compressMapping.compressToEncodedURIComponent)}catch(c){return}for(n.__dispatchEvent("onBeforeSendData",u);u.senders.length&&!(r=u.senders.shift().call(n,u.dataCompressed)););return r},n.prototype.sendByXMLHttpRequest=function(t){var e,r,n,i=this;if(t.length&&a.global.XMLHttpRequest)return e=new a.global.XMLHttpRequest,"withCredentials"in e?(e.withCredentials=!0,n=new s(function(n,o){i.senderName=i.senderMapping.sendByXMLHttpRequest,e.open("POST",i.getServiceUrl(),!0),e.onreadystatechange=function(){4===e.readyState&&(200===e.status?n(e):o(e))},a.global.ArrayBuffer&&t.buffer&&(r=t.buffer);try{e.send(r)}catch(s){o(e)}})):void(xhr=null)},n.prototype.sendByXDomainRequest=function(t){var e,r,n=this,i=t;if(t.length&&a.global.XDomainRequest)return r=new s(function(t,r){n.senderName=n.senderMapping.sendByXDomainRequest,e=new a.global.XDomainRequest,e.open("POST",n.getServiceUrl()),e.onload=function(){t(e)},e.onerror=function(){r(e)},e.onprogress=function(){},e.ontimeout=function(){r(e)};try{e.send(i)}catch(o){r(e)}})},n.prototype.sendByImage=function(t){var e,r,n=this,i=t;if(!(t.length>=2e3)&&t.length)return r=new s(function(t,r){n.senderName=n.senderMapping.sendByImage,e=document.createElement("img"),e.width=1,e.height=1,e.onload=function(){t("load"),e.onload=e.onerror=e.onabort=null},e.onerror=function(){t("error"),e.onload=e.onerror=e.onabort=null},e.onabort=function(){r("abort"),e.onload=e.onerror=e.onabort=null},e.src=[n.getServiceUrl(),"data="+i].join("&")})},n.prototype.sendByFormSubmit=function(t){var e,r=this,n=("uba-iframe"+Math.random()).replace(/\.*/gi,"");if(t.length)return e=new s(function(i,o){if(r.senderName=r.senderMapping.sendByFormSubmit,!r.form){var s=['<div data-node-name="uba-form-wrap" style="display:none;">','   <form action="#formaction#" enctype="application/x-www-form-urlencoded" method="post" target="#ifamename#">','       <input name="data" type="hidden">',"   </form>",'   <iframe name="#ifamename#"></iframe>',"</div>"],u=document.createElement("div");u.innerHTML=s.join("").replace(/\#formaction\#/gi,r.getServiceUrl()).replace(/\#ifamename\#/gi,n),a.global.document.body.appendChild(u),a.extend(!0,r,{form:{form:u.getElementsByTagName("form")[0],input:u.getElementsByTagName("input")[0],iframe:u.getElementsByTagName("iframe")[0]}})}r.form.input&&(r.form.input.value=t),r.form.form&&r.form.form.submit(),e.resolve()})},n.prototype.getServiceUrl=function(){var t=this;return[t.service.protocol,t.service.host,t.service.path,"?","stm="+ +new Date,"&cps="+t.compressName,"&st="+t.senderName].join("")},n.prototype.__getEventListener=function(t){var e=this;return e.listener[t]=e.listener[t]?e.listener[t]:[],e.listener[t]},n.prototype.__dispatchEvent=function(){for(var t=this,e=Array.prototype.shift.call(arguments),r=t.__getEventListener(e),n=0;n<r.length;n++)try{r[n].apply(t,arguments)}catch(i){}},n.prototype.removeEventListener=function(t,e){for(var r=this,n=r.__getEventListener(t),i=0;i<n.length;i++)e===n[i]&&n.splice(i--,1)},n.prototype.addEventListener=function(t,e){var r=this,n=[],i=t.split(",");i.forEach(function(t){return!t.trim().length||(n=r.__getEventListener(t),void n.push(e))})},t.exports=n},function(t,e,r){var n,i=function(){function t(t,e){if(!i[t]){i[t]={};for(var r=0;r<t.length;r++)i[t][t.charAt(r)]=r}return i[t][e]}var e=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={},o={compressToBase64:function(t){if(null==t)return"";var e=o._compress(t,6,function(t){return r.charAt(t)});switch(e.length%4){default:case 0:return e;case 1:return e+"===";case 2:return e+"==";case 3:return e+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,function(n){return t(r,e.charAt(n))})},compressToUTF16:function(t){return null==t?"":o._compress(t,15,function(t){return e(t+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:o._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(t){for(var e=o.compress(t),r=new Uint8Array(2*e.length),n=0,i=e.length;n<i;n++){var a=e.charCodeAt(n);r[2*n]=a>>>8,r[2*n+1]=a%256}return r},decompressFromUint8Array:function(t){if(null===t||void 0===t)return o.decompress(t);for(var r=new Array(t.length/2),n=0,i=r.length;n<i;n++)r[n]=256*t[2*n]+t[2*n+1];var a=[];return r.forEach(function(t){a.push(e(t))}),o.decompress(a.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":o._compress(t,6,function(t){return n.charAt(t)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,function(r){return t(n,e.charAt(r))}))},compress:function(t){return o._compress(t,16,function(t){return e(t)})},_compress:function(t,e,r){if(null==t)return"";var n,i,o,a={},s={},u="",c="",l="",h=2,f=3,d=2,p=[],g=0,v=0;for(o=0;o<t.length;o+=1)if(u=t.charAt(o),Object.prototype.hasOwnProperty.call(a,u)||(a[u]=f++,s[u]=!0),c=l+u,Object.prototype.hasOwnProperty.call(a,c))l=c;else{if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(n=0;n<d;n++)g<<=1,v==e-1?(v=0,p.push(r(g)),g=0):v++;for(i=l.charCodeAt(0),n=0;n<8;n++)g=g<<1|1&i,v==e-1?(v=0,p.push(r(g)),g=0):v++,i>>=1}else{for(i=1,n=0;n<d;n++)g=g<<1|i,v==e-1?(v=0,p.push(r(g)),g=0):v++,i=0;for(i=l.charCodeAt(0),n=0;n<16;n++)g=g<<1|1&i,v==e-1?(v=0,p.push(r(g)),g=0):v++,i>>=1}h--,0==h&&(h=Math.pow(2,d),d++),delete s[l]}else for(i=a[l],n=0;n<d;n++)g=g<<1|1&i,v==e-1?(v=0,p.push(r(g)),g=0):v++,i>>=1;h--,0==h&&(h=Math.pow(2,d),d++),a[c]=f++,l=String(u)}if(""!==l){if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(n=0;n<d;n++)g<<=1,v==e-1?(v=0,p.push(r(g)),g=0):v++;for(i=l.charCodeAt(0),n=0;n<8;n++)g=g<<1|1&i,v==e-1?(v=0,p.push(r(g)),g=0):v++,i>>=1}else{for(i=1,n=0;n<d;n++)g=g<<1|i,v==e-1?(v=0,p.push(r(g)),g=0):v++,i=0;for(i=l.charCodeAt(0),n=0;n<16;n++)g=g<<1|1&i,v==e-1?(v=0,p.push(r(g)),g=0):v++,i>>=1}h--,0==h&&(h=Math.pow(2,d),d++),delete s[l]}else for(i=a[l],n=0;n<d;n++)g=g<<1|1&i,v==e-1?(v=0,p.push(r(g)),g=0):v++,i>>=1;h--,0==h&&(h=Math.pow(2,d),d++)}for(i=2,n=0;n<d;n++)g=g<<1|1&i,v==e-1?(v=0,p.push(r(g)),g=0):v++,i>>=1;for(;;){if(g<<=1,v==e-1){p.push(r(g));break}v++}return p.join("")},decompress:function(t){return null==t?"":""==t?null:o._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(t,r,n){var i,o,a,s,u,c,l,h,f=[],d=4,p=4,g=3,v="",b=[],y={val:n(0),position:r,index:1};for(o=0;o<3;o+=1)f[o]=o;for(s=0,c=Math.pow(2,2),l=1;l!=c;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),s|=(u>0?1:0)*l,l<<=1;switch(i=s){case 0:for(s=0,c=Math.pow(2,8),l=1;l!=c;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),s|=(u>0?1:0)*l,l<<=1;h=e(s);break;case 1:for(s=0,c=Math.pow(2,16),l=1;l!=c;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),s|=(u>0?1:0)*l,l<<=1;h=e(s);break;case 2:return""}for(f[3]=h,a=h,b.push(h);;){if(y.index>t)return"";for(s=0,c=Math.pow(2,g),l=1;l!=c;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),s|=(u>0?1:0)*l,l<<=1;switch(h=s){case 0:for(s=0,c=Math.pow(2,8),l=1;l!=c;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),s|=(u>0?1:0)*l,l<<=1;f[p++]=e(s),h=p-1,d--;break;case 1:for(s=0,c=Math.pow(2,16),l=1;l!=c;)u=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),s|=(u>0?1:0)*l,l<<=1;f[p++]=e(s),h=p-1,d--;break;case 2:return b.join("")}if(0==d&&(d=Math.pow(2,g),g++),f[h])v=f[h];else{if(h!==p)return null;v=a+a.charAt(0)}b.push(v),f[p++]=a+v.charAt(0),d--,a=v,0==d&&(d=Math.pow(2,g),g++)}}};return o}();n=function(){return i}.call(e,r,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,r){(function(e,n){!function(e,r){t.exports=r()}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function i(t){return"function"==typeof t}function o(t){$=t}function a(t){Z=t}function s(){return function(){return e.nextTick(f)}}function u(){return"undefined"!=typeof W?function(){W(f)}:h()}function c(){var t=0,e=new Q(f),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}function l(){var t=new MessageChannel;return t.port1.onmessage=f,function(){return t.port2.postMessage(0)}}function h(){var t=setTimeout;return function(){return t(f,1)}}function f(){for(var t=0;t<H;t+=2){var e=rt[t],r=rt[t+1];e(r),rt[t]=void 0,rt[t+1]=void 0}H=0}function d(){try{var t=r(13);return W=t.runOnLoop||t.runOnContext,u()}catch(e){return h()}}function p(t,e){var r=arguments,n=this,i=new this.constructor(v);void 0===i[it]&&P(i);var o=n._state;return o?!function(){var t=r[o-1];Z(function(){return I(o,i,t,n._result)})}():D(n,i,t,e),i}function g(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var r=new e(v);return N(r,t),r}function v(){}function b(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function m(t){try{return t.then}catch(e){return ut.error=e,ut}}function w(t,e,r,n){try{t.call(e,r,n)}catch(i){return i}}function E(t,e,r){Z(function(t){var n=!1,i=w(r,e,function(r){n||(n=!0,e!==r?N(t,r):S(t,r))},function(e){n||(n=!0,C(t,e))},"Settle: "+(t._label||" unknown promise"));!n&&i&&(n=!0,C(t,i))},t)}function O(t,e){e._state===at?S(t,e._result):e._state===st?C(t,e._result):D(e,void 0,function(e){return N(t,e)},function(e){return C(t,e)})}function T(t,e,r){e.constructor===t.constructor&&r===p&&e.constructor.resolve===g?O(t,e):r===ut?(C(t,ut.error),ut.error=null):void 0===r?S(t,e):i(r)?E(t,e,r):S(t,e)}function N(e,r){e===r?C(e,b()):t(r)?T(e,r,m(r)):S(e,r)}function x(t){t._onerror&&t._onerror(t._result),_(t)}function S(t,e){t._state===ot&&(t._result=e,t._state=at,0!==t._subscribers.length&&Z(_,t))}function C(t,e){t._state===ot&&(t._state=st,t._result=e,Z(x,t))}function D(t,e,r,n){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+at]=r,i[o+st]=n,0===o&&t._state&&Z(_,t)}function _(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,i=void 0,o=t._result,a=0;a<e.length;a+=3)n=e[a],i=e[a+r],n?I(r,n,i,o):i(o);t._subscribers.length=0}}function A(){this.error=null}function j(t,e){try{return t(e)}catch(r){return ct.error=r,ct}}function I(t,e,r,n){var o=i(r),a=void 0,s=void 0,u=void 0,c=void 0;if(o){if(a=j(r,n),a===ct?(c=!0,s=a.error,a.error=null):u=!0,e===a)return void C(e,y())}else a=n,u=!0;e._state!==ot||(o&&u?N(e,a):c?C(e,s):t===at?S(e,a):t===st&&C(e,a))}function M(t,e){try{e(function(e){N(t,e)},function(e){C(t,e)})}catch(r){C(t,r)}}function k(){return lt++}function P(t){t[it]=lt++,t._state=void 0,t._result=void 0,t._subscribers=[]}function L(t,e){this._instanceConstructor=t,this.promise=new t(v),this.promise[it]||P(this.promise),X(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):C(this.promise,R())}function R(){return new Error("Array Methods must be provided an Array")}function U(t){return new L(this,t).promise}function F(t){var e=this;return new e(X(t)?function(r,n){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(r,n)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function q(t){var e=this,r=new e(v);return C(r,t),r}function V(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function B(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function z(t){this[it]=k(),this._result=this._state=void 0,this._subscribers=[],v!==t&&("function"!=typeof t&&V(),this instanceof z?M(this,t):B())}function Y(){var t=void 0;if("undefined"!=typeof n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var r=t.Promise;if(r){var i=null;try{i=Object.prototype.toString.call(r.resolve())}catch(e){}if("[object Promise]"===i&&!r.cast)return}t.Promise=z}var J=void 0;J=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var X=J,H=0,W=void 0,$=void 0,Z=function(t,e){rt[H]=t,rt[H+1]=e,H+=2,2===H&&($?$(f):nt())},G="undefined"!=typeof window?window:void 0,K=G||{},Q=K.MutationObserver||K.WebKitMutationObserver,tt="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),et="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,rt=new Array(1e3),nt=void 0;nt=tt?s():Q?c():et?l():void 0===G?d():h();var it=Math.random().toString(36).substring(16),ot=void 0,at=1,st=2,ut=new A,ct=new A,lt=0;return L.prototype._enumerate=function(){for(var t=this.length,e=this._input,r=0;this._state===ot&&r<t;r++)this._eachEntry(e[r],r)},L.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===g){var i=m(t);if(i===p&&t._state!==ot)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(r===z){var o=new r(v);T(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},L.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===ot&&(this._remaining--,t===st?C(n,r):this._result[e]=r),0===this._remaining&&S(n,this._result)},L.prototype._willSettleAt=function(t,e){var r=this;D(t,void 0,function(t){return r._settledAt(at,e,t)},function(t){return r._settledAt(st,e,t)})},z.all=U,z.race=F,z.resolve=g,z.reject=q,z._setScheduler=o,z._setAsap=a,
z._asap=Z,z.prototype={constructor:z,then:p,"catch":function(t){return this.then(null,t)}},z.polyfill=Y,z.Promise=z,z})}).call(e,r(9),function(){return this}())},function(t,e){},function(t,e,r){function n(t){var e=this;i.extend(!0,e,{userId:null,visitId:null,sessionId:null,firstVisitTime:null,screenHeight:i.global.screen.height,screenWidth:i.global.screen.width,browserLanguage:(i.global.navigator.language||i.global.navigator.browserLanguage||"").toLowerCase(),visitTime:+new Date,cookieDomain:function(){try{var t=i.global.location.hostname.split(".");return["."+t.slice(-2).join("."),"."+t.slice(-3).join(".")]}catch(e){return[i.global.location.hostname]}}()},t),n.prototype.init.call(e)}var i=r(5),o=r(4),a=r(15);n.prototype.init=function(){var t=this,e="LoginID",r="hc360visitid",n="hc360sessionid",i="hc360firstvisittime",s=function(t){return!!t&&/^[0-9A-Z]{32,32}$/.test(t)},u=function(t){return!!t&&/^\d+$/.test(t)};t.userId=a.get(e),t.visitId=a.get(r),s(t.visitId)||(t.visitId=(new o).id,t.setCookie(r,t.visitId,{expires:3650})),t.sessionId=a.get(n),s(t.sessionId)||(t.sessionId=(new o).id,t.setCookie(n,t.sessionId,{})),t.firstVisitTime=a.get(i)||"",u(t.firstVisitTime)||(t.firstVisitTime=+new Date,t.setCookie(i,t.firstVisitTime,{expires:90}))},n.prototype.setCookie=function(t,e,r){var n=this;n.cookieDomain.forEach(function(n){a.set(t,e,i.extend(r,{domain:n}))})},t.exports=n},function(t,e,r){var n,i;!function(o){var a=!1;if(n=o,i="function"==typeof n?n.call(e,r,e,t):n,!(void 0!==i&&(t.exports=i)),a=!0,t.exports=o(),a=!0,!a){var s=window.Cookies,u=window.Cookies=o();u.noConflict=function(){return window.Cookies=s,u}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}function e(r){function n(e,i,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if(o=t({path:"/"},n.defaults,o),"number"==typeof o.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(i),/^[\{\[]/.test(a)&&(i=a)}catch(u){}i=r.write?r.write(i,e):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape);var c="";for(var l in o)o[l]&&(c+="; "+l,o[l]!==!0&&(c+="="+o[l]));return document.cookie=e+"="+i+c}e||(a={});for(var h=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,d=0;d<h.length;d++){var p=h[d].split("="),g=p.slice(1).join("=");'"'===g.charAt(0)&&(g=g.slice(1,-1));try{var v=p[0].replace(f,decodeURIComponent);if(g=r.read?r.read(g,v):r(g,v)||g.replace(f,decodeURIComponent),this.json)try{g=JSON.parse(g)}catch(u){}if(e===v){a=g;break}e||(a[v]=g)}catch(u){}}return a}}return n.set=n,n.get=function(t){return n.call(n,t)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(e,r){n(e,"",t(r,{expires:-1}))},n.withConverter=e,n}return e(function(){})})},function(t,e,r){function n(t){var e=this,r=i.parseURL(i.global.location.href);i.extend(!0,e,{pageId:(new o).id,title:i.global.document.title||"",protocol:i.global.location.protocol.substring(0,i.global.location.protocol.length-1),host:i.global.location.host||"",path:r.path||"",query:i.global.location.search.slice(1)||"",referrer:i.global.document.referrer||"",pageTime:+new Date,pageFrameType:i.getFramePageType(),unContainsContentTagNams:["I","SPAN","EM","svg"],clickableTagNames:["A","BUTTON"],indexTagNames:["TR","LI"],changEventTagNames:["radio","checkbox","text"],ignoreClickTagNames:["TEXTAREA","HTML","BODY"],buttonTypeNames:["button","submit"],clickTagNames:["A","BUTTON","INPUT","IMG"],ignoreNodeName:{tspan:1,text:1,g:1,rect:1,path:1,defs:1,clipPath:1,desc:1,title:1,use:1},observeEventName:["click","change","submit"],exposureNodes:[],exposureNodesXpathSimilarity:{},ignoreExposureDomains:["my.b2b.hc360.com"]},t),n.prototype.init.call(e)}var i=r(5),o=r(4),a=(r(15),r(17));n.prototype.init=function(){},n.prototype.getElementPath=function(t,e){var r,n,i,o,s,u,c,l=this,h="",f="",d=!1,p=!1,g=!1;for(s=new a(t);"body"!==s.name&&"html"!==s.name;){if(f=s.path(),s.ignore&&(d=!0),!p&&s.hasObj()&&(p=!0,n=s.obj),!g&&s.hasIdx()&&(g=!0,i=s.idx),e&&""!==h&&(l.clickableTagNames.indexOf(s.node.tagName)!=-1||s.isContainer()))return o=l.getElementPath(s.node),r={x:o.xpath,h:s.href,v:l.getElementContent(s.node)},c={xpath:r.x+h,ignore:d||o.ignore,pnode:s.node},g?(r.idx=i,c.idx=i):o.idx?(r.idx=o.idx,c.idx=o.idx):r.idx=l.getElementIndex(s.node,o.xpath),g?(r.obj=n,c.obj=n):o.obj&&(r.obj=o.obj,c.obj=o.obj),c.pnodeContent=r,c;if(h=f+h,u=s.node.parentNode,!u||!u.tagName)break;s=new a(u)}return c={xpath:h,pnodeContent:r,ignore:d},p&&(c.obj=n),g&&(c.idx=i),c},n.prototype.getElementIndex=function(t,e){var r,n,o,a,s,u,c=this,l=t,h=new RegExp(c.indexTagNames.join("|"),"ig");if(e&&e.search(h)==-1)return 1;for(;l&&"BODY"!==l.tagName&&c.indexTagNames.indexOf(l.tagName)===-1;)l=l.parentNode;if(l)for(r=l.parentNode,o=r.childNodes,a=0,s=1,u=o.length;u>a;a++)if(n=o[a],n.tagName===l.tagName){if(i.hasAttribute(n,"data-uba-idx")&&(s=parseInt(n.getAttribute("data-uba-idx"),10)),n===l)return s;s+=1}},n.prototype.getElementContent=function(t){var e=this;switch(t.tagName){case"BUTTON":return t.name.length?t.name:e.getElementText(t);case"A":if(i.hasAttribute(t,"data-uba-title")&&t.getAttribute("data-uba-title")>0)return t.getAttribute("data-uba-title");if(i.hasAttribute(t,"title")&&t.getAttribute("title").length>0)return t.getAttribute("title");var r=e.getElementText(t);return r.length>0?e.getElementText(t):i.hasAttribute(t,"href")&&t.getAttribute("href").length>0?t.getAttribute("href"):r;default:return e.getElementText(t)}},n.prototype.getElementText=function(t){var e,r=this,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r.getElementText(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i];i++)n+=r.getElementText(e);return n.replace(/[\t\n]/g," ").trim()},n.prototype.depthLimit=function(t,e,r){var n,i,o,a,s=this;if(null==r&&(r=1),t.hasChildNodes()){if(r>e)return!1;for(i=0,o=t.childNodes,n=o.length;n>i;i++)if(a=o[i],1===a.nodeType&&!s.depthLimit(a,e,r+1))return!1}return e>=r},n.prototype.isLeafNode=function(t){var e,r,n,i;if(t.hasChildNodes()&&"svg"!=t.tagName)for(r=0,n=t.childNodes,e=n.length;r<e;r++)if(i=n[r],1===i.nodeType)return!1;return!0},n.prototype.analyzeEventElementAttribute=function(t,e){var r,n,o,a=this,s={},u=e.tagName;if("IMG"===u?(r=e.src,null!=r&&r.length>0&&r.indexOf("data:image")===-1&&(s.h=r)):i.hasAttribute(e,"href")&&(n=e.getAttribute("href"),n&&0!==n.indexOf("javascript")&&(s.h=a.normalizePath(n))),i.hasAttribute(e,"data-uba-title")&&e.getAttribute("data-uba-title").length>0)s.v=e.getAttribute("data-uba-title");else if(i.hasAttribute(e,"title")&&e.getAttribute("title").length>0)s.v=e.getAttribute("title");else if("click"===t)if(a.isLeafNode(e))if("IMG"===u)e.alt?s.v=e.alt:s.h&&(s.v=i.parseURL(s.h).file);else if("INPUT"===u&&a.buttonTypeNames.indexOf(e.type)!=-1)s.v=e.value;else if("svg"===u)for(var c=0,l=e.childNodes,h=l.length;c<h;c++){var f=l[c];1===f.nodeType&&"use"===f.tagName&&i.hasAttribute(f,"xlink:href")&&(s.v=f.getAttribute("xlink:href"))}else o=a.getElementContent(e),o.length&&(s.v=o.substring(0,2e3));else o=a.getElementContent(e),o.length&&(s.v=o.substring(0,2e3));else if("change"===t)"TEXTAREA"!==u&&("INPUT"===u&&-1!==a.changEventTagNames.indexOf(e.type)||"password"!==e.type||"SELECT"===u)&&(s.v=e.value);else if("submit"===t){var d,p,g,v;for(p=e.getElementsByTagName("input"),v=0,g=p.length;v<g;v++)d=p[v],"search"!==d.type&&"text"!==d.type&&"submit"!==d.type||(s.x=a.path(d).xpath,s.v=i.trim(d.value))}return s},n.prototype.getExposureNodes=function(t){var e,r,n,o=this,a=[],s=t,u=function(t){for(var e,r=[/^http\:\/\/b2b.hc360.com\/supplyself\/[0-9]+.html/,/^http\:\/\/m.hc360.com\/supplyself\/[0-9]+.html/,/^http\:\/\/js.hc360.com\/supplyself\/[0-9]+.html/,/^http\:\/\/([^.]+).b2b.hc360.com/],n=/^http\:\/\/([^.]+).b2b.hc360.com/,o=/^http\:\/\/b2b.hc360.com\/supplyself\/[0-9]+.html/,a=["my","info"];r.length;){if(e=r.shift().exec(t),e&&e[1]){if(a.indexOf(e[1])!=-1)return!1;if(n.test(i.global.location.href)||o.test(i.global.location.href))return!1}if(e)return!0}return!1};if(o.ignoreExposureDomains.indexOf(o.host)!=-1)return a;for(n=0,r=s.length;n<r;n++)e=s[n],e.leaf&&u(e.attributes.href||"")&&a.push({x:e.xpath,v:e.text,h:o.normalizePath(e.attributes.href),idx:o.getElementIndex(e.node,e.xpath),n:e.node}),e.childNodes&&e.childNodes.length&&(a=a.concat(o.getExposureNodes(e.childNodes)));return a},n.prototype.uniqueExposureNodes=function(t,e){var r={};return t.filter(function(t){return!r[t.h]&&(r[t.h]=1,!0)})},n.prototype._xpathSimilarity=function(t,e){for(var r=function(t){return t.split("/").filter(function(t){return 0!==t.trim().length})},n=r(t),i=r(e),o=0,a=0;a<n.length&&n[a]===i[a];a++)o+=1;return o/Math.max(n.length,i.length)},n.prototype.normalizePath=function(t){for(var e=new RegExp("/$","ig");e.test(t);)t=t.replace(e,"");return t},n.prototype.postMessage=function(t){var e=i.global.parent,r=e&&"function"==typeof e.postMessage&&i.global.self!==i.global.top&&i.global.self!==e;t&&r&&e.postMessage(JSON.stringify(t),"*")},t.exports=n},function(t,e,r){function n(t){var e=this,r=/(^| )(clear|clearfix|active|hover|enabled|hidden|display|focus|disabled|uba-)[^\. ]*/g;e.node=t,e.name=t.tagName.toLowerCase()||"",i.hasAttribute(t,"id")&&null!=t.getAttribute("id").match(/^[0-9]/)&&(e.id=t.getAttribute("id")),e.ignore=i.hasAttribute(t,"data-uba-ignore"),i.hasAttribute(t,"href")&&(e.href=t.getAttribute("href"));var n=t.className||t.getAttribute("class");n&&(e["class"]=i.trim(n).replace(r,"").split(/\s+/).sort()),i.hasAttribute(t,"data-uba-obj")&&(e.obj=t.getAttribute("data-uba-obj")),i.hasAttribute(t,"data-uba-idx")&&(e.idx=t.getAttribute("data-uba-idx"))}var i=r(5);n.prototype.path=function(){var t=this,e=["/",t.name];if(t.id&&e.push("#"+t.id),t["class"]&&t["class"].length)for(var r=0,n=t["class"].length;r<n;r++)e.push("."+t["class"][r]);return e.join("")},n.prototype.hasObj=function(){return null!=this.obj},n.prototype.hasIdx=function(){return null!=this.idx},n.prototype.isContainer=function(){return i.hasAttribute(this.node,"data-uba-container")},t.exports=n},function(t,e,r){var n=r(5),i=function(){function t(t,e,r){var i=this;this.target=t,this.mirror=e;for(var o=[],a=t.firstChild;a;a=a.nextSibling){var s=this.serializeNode(a,!0);null!=s&&o.push(s)}n.global.setTimeout(function(){i.mirror.initialize(o)},0)}return t.prototype.serializeNode=function(t,e,r){var i=function(t){var e="/";if(e+=t.tagName.toLowerCase(),n.hasAttribute(t,"id")&&t.getAttribute("id").match(/^[0-9]/))e+="#"+t.getAttribute("id");else if(n.hasAttribute(t,"class"))for(var r=t.getAttribute("class").trim().split(/\s+/).sort(),i=0;i<r.length;i++)r[i].length>0&&(e+="."+r[i]);return e};if(null===t)return null;var o={nodeType:t.nodeType};switch(o.nodeType){case 1:var a=t.style.display,s=window.getComputedStyle?n.global.getComputedStyle(t).display:t.currentStyle?t.currentStyle.display:"";if("none"===a||"none"===s||"A"!=t.tagName&&0===t.getElementsByTagName("a").length)return null;if(o.xpath=(r||"")+i(t),o.tagName=t.tagName,o.node=t,"A"===t.tagName){n.hasAttribute(t,"data-uba-title")&&t.getAttribute("data-uba-title")>0?o.text=t.getAttribute("data-uba-title"):n.hasAttribute(t,"title")&&t.getAttribute("title").length>0?o.text=t.getAttribute("title"):o.text=t.textContent||"",o.text=o.text.trim().replace(/[\n\t]/g,"").replace(/\s+/g," "),o.attributes={};for(var u=0;u<t.attributes.length;u++){var c=t.attributes[u];o.attributes[c.name]=c.value}o.leaf=!0}if(e&&t.childNodes.length){o.childNodes=[];for(var l=t.firstChild;l;l=l.nextSibling){var h=this.serializeNode(l,!0,o.xpath);null!=h&&o.childNodes.push(h)}}break;default:return null}return o},t}();t.exports=i},function(t,e,r){function n(t){O.push(t),E||(E=!0,y(o))}function i(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}function o(){E=!1;var t=O;O=[],t.sort(function(t,e){return t.uid_-e.uid_});var e=!1;t.forEach(function(t){var r=t.takeRecords();a(t),r.length&&(t.callback_(r,t),e=!0)}),e&&o()}function a(t){t.nodes_.forEach(function(e){var r=b.get(e);r&&r.forEach(function(e){e.observer===t&&e.removeTransientObservers()})})}function s(t,e){for(var r=t;r;r=r.parentNode){var n=b.get(r);if(n)for(var i=0;i<n.length;i++){var o=n[i],a=o.options;if(r===t||a.subtree){var s=e(a);s&&o.enqueue(s)}}}}function u(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++T}function c(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function l(t){var e=new c(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}function h(t,e){return N=new c(t,e)}function f(t){return x?x:(x=l(N),x.oldValue=t,x)}function d(){N=x=void 0}function p(t){return t===x||t===N}function g(t,e){return t===e?t:x&&p(t)?x:null}function v(t,e,r){this.observer=t,this.target=e,this.options=r,this.transientObservedNodes=[]}"undefined"==typeof WeakMap&&(WeakMap=r(20));var b=new WeakMap,y=window.msSetImmediate;if(!y){var m=[],w=String(Math.random());window.addEventListener("message",function(t){if(t.data===w){var e=m;m=[],e.forEach(function(t){t()})}}),y=function(t){m.push(t),window.postMessage(w,"*")}}var E=!1,O=[],T=0;u.prototype={observe:function(t,e){if(t=i(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var r=b.get(t);r||b.set(t,r=[]);for(var n,o=0;o<r.length;o++)if(r[o].observer===this){n=r[o],n.removeListeners(),n.options=e;break}n||(n=new v(this,t,e),r.push(n),this.nodes_.push(t)),n.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=b.get(t),r=0;r<e.length;r++){var n=e[r];if(n.observer===this){n.removeListeners(),e.splice(r,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}};var N,x;v.prototype={enqueue:function(t){var e=this.observer.records_,r=e.length;if(e.length>0){var i=e[r-1],o=g(i,t);if(o)return void(e[r-1]=o)}else n(this.observer);e[r]=t},addListeners:function(){var t=this.target,e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){var t=this.target,e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=b.get(t);e||b.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=b.get(t),r=0;r<e.length;r++)if(e[r]===this){e.splice(r,1);break}},this)},handleEvent:function(t){t.stopImmediatePropagation();var e,r,n=t.target;switch(t.type){case"DOMAttrModified":var i=t.attrName,o=t.relatedNode.namespaceURI;e=h("attributes",n),e.attributeName=i,e.attributeNamespace=o,r=t.attrChange===MutationEvent.ADDITION?null:t.prevValue,s(n,function(t){if(t.attributes&&(!t.attributeFilter||!t.attributeFilter.length||t.attributeFilter.indexOf(i)!==-1||t.attributeFilter.indexOf(o)!==-1))return t.attributeOldValue?f(r):e});break;case"DOMCharacterDataModified":e=h("characterData",n),r=t.prevValue,s(n,function(t){if(t.characterData)return t.characterDataOldValue?f(r):e});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var a=n;n=t.relatedNode;var u,c;"DOMNodeInserted"===t.type?(u=[a],c=[]):(u=[],c=[a]);var l=a.previousSibling,p=a.nextSibling;e=h("childList",n),e.addedNodes=u,e.removedNodes=c,e.previousSibling=l,e.nextSibling=p,s(n,function(t){if(t.childList)return e})}d()}},t.exports=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||u},function(t,e){var r=Object.defineProperty,n=Date.now()%1e9;w=function(){this.name="__st"+(1e9*Math.random()>>>0)+(n++ +"__")},w.prototype={set:function(t,e){var n=t[this.name];return n&&n[0]===t?n[1]=e:r(t,this.name,{value:[t,e],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},"delete":function(t){var e=t[this.name];if(!e)return!1;var r=e[0]===t;return e[0]=e[1]=void 0,r},has:function(t){var e=t[this.name];return!!e&&e[0]===t}},t.exports=w},function(t,e,r){var n=r(5);n.global.MutationSummary=r(22);var i=function(){function t(t,e,r){var i=this;this.target=t,this.mirror=e,this.nextId=1,this.knownNodes=new MutationSummary.NodeMap;for(var o=[],a=t.firstChild;a;a=a.nextSibling){var s=this.serializeNode(a,!0);null!=s&&o.push(s)}n.global.setTimeout(function(){i.mirror.initialize(o)},0);var u=[{element:"a",elementAttributes:"href"}];r&&(u=u.concat(r)),this.mutationSummary=new MutationSummary({rootNode:t,callback:function(t){i.applyChanged(t)},queries:u})}return t.prototype.disconnect=function(){this.mutationSummary&&(this.mutationSummary.disconnect(),this.mutationSummary=void 0)},t.prototype.rememberNode=function(t){var e=this.nextId++;return this.knownNodes.set(t,e),e},t.prototype.forgetNode=function(t){this.knownNodes["delete"](t)},t.prototype.serializeNode=function(t,e,r){var i=function(t){var e="/";if(e+=t.tagName.toLowerCase(),n.hasAttribute(t,"id")&&t.getAttribute("id").match(/^[0-9]/))e+="#"+t.getAttribute("id");else if(n.hasAttribute(t,"class"))for(var r=t.getAttribute("class").trim().split(/\s+/).sort(),i=0;i<r.length;i++)r[i].length>0&&(e+="."+r[i]);return e};if(null===t)return null;var o=this.knownNodes.get(t);if(void 0!==o)return{id:o};var a={nodeType:t.nodeType,id:this.rememberNode(t)};switch(a.nodeType){case 1:if(!r)for(var s=t.parentElement;s&&"BODY"!==s.tagName&&"HTML"!==s.tagName;)r=i(s)+(r||""),s=s.parentElement;var u=t.style.display,c=window.getComputedStyle?n.global.getComputedStyle(t).display:t.currentStyle?t.currentStyle.display:"";if("none"===u||"none"===c||"A"!=t.tagName&&null===t.querySelector("a"))return null;if(a.xpath=(r||"")+i(t),a.tagName=t.tagName,a.node=t,"A"===t.tagName){n.hasAttribute(t,"data-uba-title")&&t.getAttribute("data-uba-title")>0?a.text=t.getAttribute("data-uba-title"):n.hasAttribute(t,"title")&&t.getAttribute("title").length>0?a.text=t.getAttribute("title"):a.text=t.textContent||"",a.text=a.text.trim().replace(/[\n\t]/g,"").replace(/\s+/g," "),a.attributes={};for(var l=0;l<t.attributes.length;l++){var h=t.attributes[l];a.attributes[h.name]=h.value}a.leaf=!0}if(e&&t.childNodes.length){a.childNodes=[];for(var f=t.firstChild;f;f=f.nextSibling){var d=this.serializeNode(f,!0,a.xpath);null!=d&&a.childNodes.push(d)}}break;default:return null}return a},t.prototype.serializeAddedAndMoved=function(t,e,r){var n=this,i=t.concat(e).concat(r||[]),o=new MutationSummary.NodeMap;i.forEach(function(t){var e=t.parentNode,r=o.get(e);r||(r=new MutationSummary.NodeMap,o.set(e,r)),r.set(t,!0)});var a=[];return o.keys().forEach(function(t){for(var e=o.get(t),r=e.keys();r.length;){for(var i=r[0];i.previousSibling&&e.has(i.previousSibling);)i=i.previousSibling;for(;i&&e.has(i);){var s=n.serializeNode(i);null!=s&&(s.previousSibling=n.serializeNode(i.previousSibling),s.parentNode=n.serializeNode(i.parentNode),a.push(s),e["delete"](i),i=i.nextSibling)}var r=e.keys()}}),a},t.prototype.serializeAttributeChanges=function(t){var e=this,r=new MutationSummary.NodeMap;return Object.keys(t).forEach(function(n){t[n].forEach(function(t){var i=r.get(t);i||(i=e.serializeNode(t),null!=i&&(i.attributes={},r.set(t,i))),i.attributes[n]=t.getAttribute(n)})}),r.keys().map(function(t){return r.get(t)})},t.prototype.applyChanged=function(t){var e=this,r=t[0],i=r.removed.map(function(t){return e.serializeNode(t)}),o=this.serializeAddedAndMoved(r.added,[],[]),a=this.serializeAttributeChanges(r.attributeChanged),s=(r.characterDataChanged||[]).map(function(t){var r=e.serializeNode(t);if(null!=r)return r.textContent=t.textContent,r});n.global.setTimeout(function(){e.mirror.applyChanged(i,o,a,s)},0),r.removed.forEach(function(t){e.forgetNode(t)})},t}();t.exports=i},function(t,e){function r(t){return'"'+t.replace(/"/,'\\"')+'"'}function n(t){if("string"!=typeof t)throw Error("Invalid request opion. attribute must be a non-zero length string.");if(t=t.trim(),!t)throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!t.match(m))throw Error("Invalid request option. invalid attribute name: "+t);return t}function i(t){if(!t.trim().length)throw Error("Invalid request option: elementAttributes must contain at least one attribute.");for(var e={},r={},i=t.split(/\s+/),o=0;o<i.length;o++){var a=i[o];if(a){var a=n(a),s=a.toLowerCase();if(e[s])throw Error("Invalid request option: observing multiple case variations of the same attribute is not supported.");r[a]=!0,e[s]=!0}}return Object.keys(r)}function o(t){var e={};return t.forEach(function(t){t.qualifiers.forEach(function(t){e[t.attrName]=!0})}),Object.keys(e)}var a,s=this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);r.prototype=e.prototype,t.prototype=new r};if(a="undefined"!=typeof WebKitMutationObserver?WebKitMutationObserver:MutationObserver,void 0===a)throw console.error("DOM Mutation Observers are required."),console.error("https://developer.mozilla.org/en-US/docs/DOM/MutationObserver"),Error("DOM Mutation Observers are required");var u,c=function(){function t(){this.nodes=[],this.values=[]}return t.prototype.isIndex=function(t){return+t===t>>>0},t.prototype.nodeId=function(e){var r=e[t.ID_PROP];return r||(r=e[t.ID_PROP]=t.nextId_++),r},t.prototype.set=function(t,e){var r=this.nodeId(t);this.nodes[r]=t,this.values[r]=e},t.prototype.get=function(t){var e=this.nodeId(t);return this.values[e]},t.prototype.has=function(t){return this.nodeId(t)in this.nodes},t.prototype["delete"]=function(t){var e=this.nodeId(t);delete this.nodes[e],this.values[e]=void 0},t.prototype.keys=function(){var t=[];for(var e in this.nodes)this.isIndex(e)&&t.push(this.nodes[e]);return t},t.ID_PROP="__mutation_summary_node_map_id__",t.nextId_=1,t}();!function(t){t[t.STAYED_OUT=0]="STAYED_OUT",t[t.ENTERED=1]="ENTERED",t[t.STAYED_IN=2]="STAYED_IN",t[t.REPARENTED=3]="REPARENTED",t[t.REORDERED=4]="REORDERED",t[t.EXITED=5]="EXITED"}(u||(u={}));var l=function(){function t(t,e,r,n,i,o,a,s){void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===n&&(n=!1),void 0===i&&(i=null),void 0===o&&(o=!1),void 0===a&&(a=null),void 0===s&&(s=null),this.node=t,this.childList=e,this.attributes=r,this.characterData=n,this.oldParentNode=i,this.added=o,this.attributeOldValues=a,this.characterDataOldValue=s,this.isCaseInsensitive=this.node.nodeType===Node.ELEMENT_NODE&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument}return t.prototype.getAttributeOldValue=function(t){if(this.attributeOldValues)return this.isCaseInsensitive&&(t=t.toLowerCase()),this.attributeOldValues[t]},t.prototype.getAttributeNamesMutated=function(){var t=[];if(!this.attributeOldValues)return t;for(var e in this.attributeOldValues)t.push(e);return t},t.prototype.attributeMutated=function(t,e){this.attributes=!0,this.attributeOldValues=this.attributeOldValues||{},t in this.attributeOldValues||(this.attributeOldValues[t]=e)},t.prototype.characterDataMutated=function(t){this.characterData||(this.characterData=!0,this.characterDataOldValue=t)},t.prototype.removedFromParent=function(t){this.childList=!0,this.added||this.oldParentNode?this.added=!1:this.oldParentNode=t},t.prototype.insertedIntoParent=function(){this.childList=!0,this.added=!0},t.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return this.node.parentNode},t}(),h=function(){function t(){this.added=new c,this.removed=new c,this.maybeMoved=new c,this.oldPrevious=new c,this.moved=void 0}return t}(),f=function(t){function e(e,r){t.call(this),this.rootNode=e,this.reachableCache=void 0,this.wasReachableCache=void 0,this.anyParentsChanged=!1,this.anyAttributesChanged=!1,this.anyCharacterDataChanged=!1;for(var n=0;n<r.length;n++){var i=r[n];switch(i.type){case"childList":this.anyParentsChanged=!0;for(var o=0;o<i.removedNodes.length;o++){var a=i.removedNodes[o];this.getChange(a).removedFromParent(i.target)}for(var o=0;o<i.addedNodes.length;o++){var a=i.addedNodes[o];this.getChange(a).insertedIntoParent()}break;case"attributes":this.anyAttributesChanged=!0;var s=this.getChange(i.target);s.attributeMutated(i.attributeName,i.oldValue);break;case"characterData":this.anyCharacterDataChanged=!0;var s=this.getChange(i.target);s.characterDataMutated(i.oldValue)}}}return s(e,t),e.prototype.getChange=function(t){var e=this.get(t);return e||(e=new l(t),this.set(t,e)),e},e.prototype.getOldParent=function(t){var e=this.get(t);return e?e.getOldParent():t.parentNode},e.prototype.getIsReachable=function(t){if(t===this.rootNode)return!0;if(!t)return!1;this.reachableCache=this.reachableCache||new c;var e=this.reachableCache.get(t);return void 0===e&&(e=this.getIsReachable(t.parentNode),this.reachableCache.set(t,e)),e},e.prototype.getWasReachable=function(t){if(t===this.rootNode)return!0;if(!t)return!1;this.wasReachableCache=this.wasReachableCache||new c;var e=this.wasReachableCache.get(t);return void 0===e&&(e=this.getWasReachable(this.getOldParent(t)),this.wasReachableCache.set(t,e)),e},e.prototype.reachabilityChange=function(t){return this.getIsReachable(t)?this.getWasReachable(t)?u.STAYED_IN:u.ENTERED:this.getWasReachable(t)?u.EXITED:u.STAYED_OUT},e}(c),d=function(){function t(t,e,r,n,i){this.rootNode=t,this.mutations=e,this.selectors=r,this.calcReordered=n,this.calcOldPreviousSibling=i,this.treeChanges=new f(t,e),this.entered=[],this.exited=[],this.stayedIn=new c,this.visited=new c,this.childListChangeMap=void 0,this.characterDataOnly=void 0,this.matchCache=void 0,this.processMutations()}return t.prototype.processMutations=function(){if(this.treeChanges.anyParentsChanged||this.treeChanges.anyAttributesChanged)for(var t=this.treeChanges.keys(),e=0;e<t.length;e++)this.visitNode(t[e],void 0)},t.prototype.visitNode=function(t,e){if(!this.visited.has(t)){this.visited.set(t,!0);var r=this.treeChanges.get(t),n=e;if((r&&r.childList||void 0==n)&&(n=this.treeChanges.reachabilityChange(t)),n!==u.STAYED_OUT){if(this.matchabilityChange(t),n===u.ENTERED)this.entered.push(t);else if(n===u.EXITED)this.exited.push(t),this.ensureHasOldPreviousSiblingIfNeeded(t);else if(n===u.STAYED_IN){var i=u.STAYED_IN;r&&r.childList&&(r.oldParentNode!==t.parentNode?(i=u.REPARENTED,this.ensureHasOldPreviousSiblingIfNeeded(t)):this.calcReordered&&this.wasReordered(t)&&(i=u.REORDERED)),this.stayedIn.set(t,i)}if(n!==u.STAYED_IN)for(var o=t.firstChild;o;o=o.nextSibling)this.visitNode(o,n)}}},t.prototype.ensureHasOldPreviousSiblingIfNeeded=function(t){if(this.calcOldPreviousSibling){this.processChildlistChanges();var e=t.parentNode,r=this.treeChanges.get(t);r&&r.oldParentNode&&(e=r.oldParentNode);var n=this.childListChangeMap.get(e);n||(n=new h,this.childListChangeMap.set(e,n)),n.oldPrevious.has(t)||n.oldPrevious.set(t,t.previousSibling)}},t.prototype.getChanged=function(t,e,r){this.selectors=e,this.characterDataOnly=r;for(var n=0;n<this.entered.length;n++){var i=this.entered[n],o=this.matchabilityChange(i);o!==u.ENTERED&&o!==u.STAYED_IN||t.added.push(i)}for(var a=this.stayedIn.keys(),n=0;n<a.length;n++){var i=a[n],o=this.matchabilityChange(i);if(o===u.ENTERED)t.added.push(i);else if(o===u.EXITED)t.removed.push(i);else if(o===u.STAYED_IN&&(t.reparented||t.reordered)){var s=this.stayedIn.get(i);t.reparented&&s===u.REPARENTED?t.reparented.push(i):t.reordered&&s===u.REORDERED&&t.reordered.push(i)}}for(var n=0;n<this.exited.length;n++){var i=this.exited[n],o=this.matchabilityChange(i);o!==u.EXITED&&o!==u.STAYED_IN||t.removed.push(i)}},t.prototype.getOldParentNode=function(t){var e=this.treeChanges.get(t);if(e&&e.childList)return e.oldParentNode?e.oldParentNode:null;var r=this.treeChanges.reachabilityChange(t);if(r===u.STAYED_OUT||r===u.ENTERED)throw Error("getOldParentNode requested on invalid node.");return t.parentNode},t.prototype.getOldPreviousSibling=function(t){var e=t.parentNode,r=this.treeChanges.get(t);r&&r.oldParentNode&&(e=r.oldParentNode);var n=this.childListChangeMap.get(e);if(!n)throw Error("getOldPreviousSibling requested on invalid node.");return n.oldPrevious.get(t)},t.prototype.getOldAttribute=function(t,e){var r=this.treeChanges.get(t);if(!r||!r.attributes)throw Error("getOldAttribute requested on invalid node.");var n=r.getAttributeOldValue(e);if(void 0===n)throw Error("getOldAttribute requested for unchanged attribute name.");return n},t.prototype.attributeChangedNodes=function(t){if(!this.treeChanges.anyAttributesChanged)return{};var e,r;if(t){e={},r={};for(var n=0;n<t.length;n++){var i=t[n];e[i]=!0,r[i.toLowerCase()]=i}}for(var o={},a=this.treeChanges.keys(),n=0;n<a.length;n++){var s=a[n],c=this.treeChanges.get(s);if(c.attributes&&u.STAYED_IN===this.treeChanges.reachabilityChange(s)&&u.STAYED_IN===this.matchabilityChange(s))for(var l=s,h=c.getAttributeNamesMutated(),f=0;f<h.length;f++){var i=h[f];if(!e||e[i]||c.isCaseInsensitive&&r[i]){var d=c.getAttributeOldValue(i);d!==l.getAttribute(i)&&(r&&c.isCaseInsensitive&&(i=r[i]),o[i]=o[i]||[],o[i].push(l))}}}return o},t.prototype.getOldCharacterData=function(t){var e=this.treeChanges.get(t);if(!e||!e.characterData)throw Error("getOldCharacterData requested on invalid node.");return e.characterDataOldValue},t.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];for(var t=this.treeChanges.keys(),e=[],r=0;r<t.length;r++){var n=t[r];if(u.STAYED_IN===this.treeChanges.reachabilityChange(n)){var i=this.treeChanges.get(n);i.characterData&&n.textContent!=i.characterDataOldValue&&e.push(n)}}return e},t.prototype.computeMatchabilityChange=function(t,e){this.matchCache||(this.matchCache=[]),this.matchCache[t.uid]||(this.matchCache[t.uid]=new c);var r=this.matchCache[t.uid],n=r.get(e);return void 0===n&&(n=t.matchabilityChange(e,this.treeChanges.get(e)),r.set(e,n)),n},t.prototype.matchabilityChange=function(t){var e=this;if(this.characterDataOnly)switch(t.nodeType){case Node.COMMENT_NODE:case Node.TEXT_NODE:return u.STAYED_IN;default:return u.STAYED_OUT}if(!this.selectors)return u.STAYED_IN;if(t.nodeType!==Node.ELEMENT_NODE)return u.STAYED_OUT;for(var r=t,n=this.selectors.map(function(t){return e.computeMatchabilityChange(t,r)}),i=u.STAYED_OUT,o=0;i!==u.STAYED_IN&&o<n.length;){switch(n[o]){case u.STAYED_IN:i=u.STAYED_IN;break;case u.ENTERED:i=i===u.EXITED?u.STAYED_IN:u.ENTERED;break;case u.EXITED:i=i===u.ENTERED?u.STAYED_IN:u.EXITED}o++}return i},t.prototype.getChildlistChange=function(t){var e=this.childListChangeMap.get(t);return e||(e=new h,this.childListChangeMap.set(t,e)),e},t.prototype.processChildlistChanges=function(){function t(t,e){!t||n.oldPrevious.has(t)||n.added.has(t)||n.maybeMoved.has(t)||e&&(n.added.has(e)||n.maybeMoved.has(e))||n.oldPrevious.set(t,e)}if(!this.childListChangeMap){this.childListChangeMap=new c;for(var e=0;e<this.mutations.length;e++){
var r=this.mutations[e];if("childList"==r.type&&(this.treeChanges.reachabilityChange(r.target)===u.STAYED_IN||this.calcOldPreviousSibling)){for(var n=this.getChildlistChange(r.target),i=r.previousSibling,o=0;o<r.removedNodes.length;o++){var a=r.removedNodes[o];t(a,i),n.added.has(a)?n.added["delete"](a):(n.removed.set(a,!0),n.maybeMoved["delete"](a)),i=a}t(r.nextSibling,i);for(var o=0;o<r.addedNodes.length;o++){var a=r.addedNodes[o];n.removed.has(a)?(n.removed["delete"](a),n.maybeMoved.set(a,!0)):n.added.set(a,!0)}}}}},t.prototype.wasReordered=function(t){function e(t){if(!t)return!1;if(!a.maybeMoved.has(t))return!1;var e=a.moved.get(t);return void 0!==e?e:(s.has(t)?e=!0:(s.set(t,!0),e=n(t)!==r(t)),s.has(t)?(s["delete"](t),a.moved.set(t,e)):e=a.moved.get(t),e)}function r(t){var n=u.get(t);if(void 0!==n)return n;for(n=a.oldPrevious.get(t);n&&(a.removed.has(n)||e(n));)n=r(n);return void 0===n&&(n=t.previousSibling),u.set(t,n),n}function n(t){if(l.has(t))return l.get(t);for(var r=t.previousSibling;r&&(a.added.has(r)||e(r));)r=r.previousSibling;return l.set(t,r),r}if(!this.treeChanges.anyParentsChanged)return!1;this.processChildlistChanges();var i=t.parentNode,o=this.treeChanges.get(t);o&&o.oldParentNode&&(i=o.oldParentNode);var a=this.childListChangeMap.get(i);if(!a)return!1;if(a.moved)return a.moved.get(t);a.moved=new c;var s=new c,u=new c,l=new c;return a.maybeMoved.keys().forEach(e),a.moved.get(t)},t}(),p=function(){function t(t,e){var r=this;if(this.projection=t,this.added=[],this.removed=[],this.reparented=e.all||e.element||e.characterData?[]:void 0,this.reordered=e.all?[]:void 0,t.getChanged(this,e.elementFilter,e.characterData),e.all||e.attribute||e.attributeList){var n=e.attribute?[e.attribute]:e.attributeList,i=t.attributeChangedNodes(n);e.attribute?this.valueChanged=i[e.attribute]||[]:(this.attributeChanged=i,e.attributeList&&e.attributeList.forEach(function(t){r.attributeChanged.hasOwnProperty(t)||(r.attributeChanged[t]=[])}))}if(e.all||e.characterData){var o=t.getCharacterDataChanged();e.characterData?this.valueChanged=o:this.characterDataChanged=o}this.reordered&&(this.getOldPreviousSibling=t.getOldPreviousSibling.bind(t))}return t.prototype.getOldParentNode=function(t){return this.projection.getOldParentNode(t)},t.prototype.getOldAttribute=function(t,e){return this.projection.getOldAttribute(t,e)},t.prototype.getOldCharacterData=function(t){return this.projection.getOldCharacterData(t)},t.prototype.getOldPreviousSibling=function(t){return this.projection.getOldPreviousSibling(t)},t}(),g=/[a-zA-Z_]+/,v=/[a-zA-Z0-9_\-]+/,b=function(){function t(){}return t.prototype.matches=function(t){if(null===t)return!1;if(void 0===this.attrValue)return!0;if(!this.contains)return this.attrValue==t;for(var e=t.split(" "),r=0;r<e.length;r++)if(this.attrValue===e[r])return!0;return!1},t.prototype.toString=function(){return"class"===this.attrName&&this.contains?"."+this.attrValue:"id"!==this.attrName||this.contains?this.contains?"["+this.attrName+"~="+r(this.attrValue)+"]":"attrValue"in this?"["+this.attrName+"="+r(this.attrValue)+"]":"["+this.attrName+"]":"#"+this.attrValue},t}(),y=function(){function t(){this.uid=t.nextUid++,this.qualifiers=[]}return Object.defineProperty(t.prototype,"caseInsensitiveTagName",{get:function(){return this.tagName.toUpperCase()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectorString",{get:function(){return this.tagName+this.qualifiers.join("")},enumerable:!0,configurable:!0}),t.prototype.isMatching=function(e){return e[t.matchesSelector](this.selectorString)},t.prototype.wasMatching=function(t,e,r){if(!e||!e.attributes)return r;var n=e.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName;if("*"!==n&&n!==t.tagName)return!1;for(var i=[],o=!1,a=0;a<this.qualifiers.length;a++){var s=this.qualifiers[a],u=e.getAttributeOldValue(s.attrName);i.push(u),o=o||void 0!==u}if(!o)return r;for(var a=0;a<this.qualifiers.length;a++){var s=this.qualifiers[a],u=i[a];if(void 0===u&&(u=t.getAttribute(s.attrName)),!s.matches(u))return!1}return!0},t.prototype.matchabilityChange=function(t,e){var r=this.isMatching(t);return r?this.wasMatching(t,e,r)?u.STAYED_IN:u.ENTERED:this.wasMatching(t,e,r)?u.EXITED:u.STAYED_OUT},t.parseSelectors=function(e){function r(){i&&(o&&(i.qualifiers.push(o),o=void 0),s.push(i)),i=new t}function n(){o&&i.qualifiers.push(o),o=new b}for(var i,o,a,s=[],u=/\s/,c="Invalid or unsupported selector syntax.",l=1,h=2,f=3,d=4,p=5,y=6,m=7,w=8,E=9,O=10,T=11,N=12,x=13,S=14,C=l,D=0;D<e.length;){var _=e[D++];switch(C){case l:if(_.match(g)){r(),i.tagName=_,C=h;break}if("*"==_){r(),i.tagName="*",C=f;break}if("."==_){r(),n(),i.tagName="*",o.attrName="class",o.contains=!0,C=d;break}if("#"==_){r(),n(),i.tagName="*",o.attrName="id",C=d;break}if("["==_){r(),n(),i.tagName="*",o.attrName="",C=y;break}if(_.match(u))break;throw Error(c);case h:if(_.match(v)){i.tagName+=_;break}if("."==_){n(),o.attrName="class",o.contains=!0,C=d;break}if("#"==_){n(),o.attrName="id",C=d;break}if("["==_){n(),o.attrName="",C=y;break}if(_.match(u)){C=S;break}if(","==_){C=l;break}throw Error(c);case f:if("."==_){n(),o.attrName="class",o.contains=!0,C=d;break}if("#"==_){n(),o.attrName="id",C=d;break}if("["==_){n(),o.attrName="",C=y;break}if(_.match(u)){C=S;break}if(","==_){C=l;break}throw Error(c);case d:if(_.match(g)){o.attrValue=_,C=p;break}throw Error(c);case p:if(_.match(v)){o.attrValue+=_;break}if("."==_){n(),o.attrName="class",o.contains=!0,C=d;break}if("#"==_){n(),o.attrName="id",C=d;break}if("["==_){n(),C=y;break}if(_.match(u)){C=S;break}if(","==_){C=l;break}throw Error(c);case y:if(_.match(g)){o.attrName=_,C=m;break}if(_.match(u))break;throw Error(c);case m:if(_.match(v)){o.attrName+=_;break}if(_.match(u)){C=w;break}if("~"==_){o.contains=!0,C=E;break}if("="==_){o.attrValue="",C=T;break}if("]"==_){C=f;break}throw Error(c);case w:if("~"==_){o.contains=!0,C=E;break}if("="==_){o.attrValue="",C=T;break}if("]"==_){C=f;break}if(_.match(u))break;throw Error(c);case E:if("="==_){o.attrValue="",C=T;break}throw Error(c);case O:if("]"==_){C=f;break}if(_.match(u))break;throw Error(c);case T:if(_.match(u))break;if('"'==_||"'"==_){a=_,C=x;break}o.attrValue+=_,C=N;break;case N:if(_.match(u)){C=O;break}if("]"==_){C=f;break}if("'"==_||'"'==_)throw Error(c);o.attrValue+=_;break;case x:if(_==a){C=O;break}o.attrValue+=_;break;case S:if(_.match(u))break;if(","==_){C=l;break}throw Error(c)}}switch(C){case l:case h:case f:case p:case S:r();break;default:throw Error(c)}if(!s.length)throw Error(c);return s},t.nextUid=1,t.matchesSelector=function(){var t=document.createElement("div");return"function"==typeof t.webkitMatchesSelector?"webkitMatchesSelector":"function"==typeof t.mozMatchesSelector?"mozMatchesSelector":"function"==typeof t.msMatchesSelector?"msMatchesSelector":"matchesSelector"}(),t}(),m=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:\.]*)$/,w=function(){function t(e){var r=this;this.connected=!1,this.options=t.validateOptions(e),this.observerOptions=t.createObserverOptions(this.options.queries),this.root=this.options.rootNode,this.callback=this.options.callback,this.elementFilter=Array.prototype.concat.apply([],this.options.queries.map(function(t){return t.elementFilter?t.elementFilter:[]})),this.elementFilter.length||(this.elementFilter=void 0),this.calcReordered=this.options.queries.some(function(t){return t.all}),this.queryValidators=[],t.createQueryValidator&&(this.queryValidators=this.options.queries.map(function(e){return t.createQueryValidator(r.root,e)})),this.observer=new a(function(t){r.observerCallback(t)}),this.reconnect()}return t.createObserverOptions=function(t){function e(t){if(!n.attributes||r){if(n.attributes=!0,n.attributeOldValue=!0,!t)return void(r=void 0);r=r||{},t.forEach(function(t){r[t]=!0,r[t.toLowerCase()]=!0})}}var r,n={childList:!0,subtree:!0};return t.forEach(function(t){if(t.characterData)return n.characterData=!0,void(n.characterDataOldValue=!0);if(t.all)return e(),n.characterData=!0,void(n.characterDataOldValue=!0);if(t.attribute)return void e([t.attribute.trim()]);var r=o(t.elementFilter).concat(t.attributeList||[]);r.length&&e(r)}),r&&(n.attributeFilter=Object.keys(r)),n},t.validateOptions=function(e){for(var r in e)if(!(r in t.optionKeys))throw Error("Invalid option: "+r);if("function"!=typeof e.callback)throw Error("Invalid options: callback is required and must be a function");if(!e.queries||!e.queries.length)throw Error("Invalid options: queries must contain at least one query request object.");for(var o={callback:e.callback,rootNode:e.rootNode||document,observeOwnChanges:!!e.observeOwnChanges,oldPreviousSibling:!!e.oldPreviousSibling,queries:[]},a=0;a<e.queries.length;a++){var s=e.queries[a];if(s.all){if(Object.keys(s).length>1)throw Error("Invalid request option. all has no options.");o.queries.push({all:!0})}else if("attribute"in s){var u={attribute:n(s.attribute)};if(u.elementFilter=y.parseSelectors("*["+u.attribute+"]"),Object.keys(s).length>1)throw Error("Invalid request option. attribute has no options.");o.queries.push(u)}else if("element"in s){var c=Object.keys(s).length,u={element:s.element,elementFilter:y.parseSelectors(s.element)};if(s.hasOwnProperty("elementAttributes")&&(u.attributeList=i(s.elementAttributes),c--),c>1)throw Error("Invalid request option. element only allows elementAttributes option.");o.queries.push(u)}else{if(!s.characterData)throw Error("Invalid request option. Unknown query request.");if(Object.keys(s).length>1)throw Error("Invalid request option. characterData has no options.");o.queries.push({characterData:!0})}}return o},t.prototype.createSummaries=function(t){if(!t||!t.length)return[];for(var e=new d(this.root,t,this.elementFilter,this.calcReordered,this.options.oldPreviousSibling),r=[],n=0;n<this.options.queries.length;n++)r.push(new p(e,this.options.queries[n]));return r},t.prototype.checkpointQueryValidators=function(){this.queryValidators.forEach(function(t){t&&t.recordPreviousState()})},t.prototype.runQueryValidators=function(t){this.queryValidators.forEach(function(e,r){e&&e.validate(t[r])})},t.prototype.changesToReport=function(t){return t.some(function(t){var e=["added","removed","reordered","reparented","valueChanged","characterDataChanged"];if(e.some(function(e){return t[e]&&t[e].length}))return!0;if(t.attributeChanged){var r=Object.keys(t.attributeChanged),n=r.some(function(e){return!!t.attributeChanged[e].length});if(n)return!0}return!1})},t.prototype.observerCallback=function(t){this.options.observeOwnChanges||this.observer.disconnect();var e=this.createSummaries(t);this.runQueryValidators(e),this.options.observeOwnChanges&&this.checkpointQueryValidators(),this.changesToReport(e)&&this.callback(e),!this.options.observeOwnChanges&&this.connected&&(this.checkpointQueryValidators(),this.observer.observe(this.root,this.observerOptions))},t.prototype.reconnect=function(){if(this.connected)throw Error("Already connected");this.observer.observe(this.root,this.observerOptions),this.connected=!0,this.checkpointQueryValidators()},t.prototype.takeSummaries=function(){if(!this.connected)throw Error("Not connected");var t=this.createSummaries(this.observer.takeRecords());return this.changesToReport(t)?t:void 0},t.prototype.disconnect=function(){var t=this.takeSummaries();return this.observer.disconnect(),this.connected=!1,t},t.NodeMap=c,t.parseElementFilter=y.parseSelectors,t.optionKeys={callback:!0,queries:!0,rootNode:!0,oldPreviousSibling:!0,observeOwnChanges:!0},t}();t.exports=w}]);