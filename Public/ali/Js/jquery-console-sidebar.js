!function(t){function e(t){var e=window.location.hostname,n=window.location.protocol||"https:",a={dev:["dataplus-test.aliyun.test"],daily:["dataplus-qa.aliyun.test"],pre:["data-pre.aliyun.com","shuju-pre.aliyun.com","shujia-pre.aliyun.com","dataplus-pre.aliyun.com"],prod:["data.aliyun.com","shuju.aliyun.com","shujia.aliyun.com","dataplus.aliyun.com"]},s=/dev|daily/g.test(t)?":8080":"",i=b.inArray(e,a[t]);return n+"//"+a[t][i>-1?i:0]+s}function n(){return[]}function a(t){var e=(+new Date,document.head||document.getElementsByTagName("head")[0]),n=document.createElement("link");n.setAttribute("type","text/css"),n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),e.appendChild(n)}function s(){var t=D.height()||document.body.clientHeight;A.height(t)}function i(){return A.find(".ds-console-sidebar-main").toggleClass("unfold"),!1}function o(){return b(this).toggleClass("open").next("ul.ds-console-sidebar-nav-content").toggleClass("unfold"),!1}function d(){var t=".ds-console-sidebar-main",e=A.find(t).hasClass("unfold");if(!e){var n=b(this),a=n.offset(),s=n.width();this.$tips||(this.$tips=b("<div />",{"class":"ds-console-sidebar-tips",html:n.attr("data-title")})),this.$tips.css({top:a.top,left:s+a.left+40}),b(document.body).append(this.$tips)}}function l(){this.$tips&&this.$tips.remove()}function c(t){var e=[];e.push('<div id="'+t.id+'" class="ds-console-sidebar-title'+(t.unfold?" open":"")+'" data-title="'+t.title+'"><i class="ds-icon-arrow"></i><span class="sidebar-text">'+t.title+"</span></div>"),e.push('<ul class="ds-console-sidebar-nav-content'+(t.unfold?" unfold":"")+'">'),b.each(t.childs||[],function(){var t='<li><a id="'+this.id+'" href="'+this.url+'" data-title="'+this.title+'" target="'+(this.target||"")+'"><i class="dsiconfont '+this.icon+'"></i><span class="sidebar-text">'+this.title+"</span></a></li>";e.push(t)}),e.push("</ul>");var n=b('<div class="ds-console-sidebar-nav"></div>');return n.html(e.join("")),n}function r(){b(t).on("resize",s).triggerHandler("resize"),A.on("click",".ds-console-sidebar-fold",i).on("click",".ds-console-sidebar-title",o).on("mouseenter","[data-title]",d).on("mouseleave","[data-title]",l)}function u(){var t=A.find(".ds-console-sidebar-main");b.each(w.defaultData,function(){t.append(c(this))}),w.defaultAction&&t.find("#"+w.defaultAction).addClass("action")}function f(){var t=w.spm,e=w.parentId||document.body;A=b("<div />",{"class":"ds ds-console-sidebar","data-spm":t}),A.html('<div class="ds-console-sidebar-main"><div class="ds-console-sidebar-fold">|||</div></div>'),w.defaultUnfold&&A.find(".ds-console-sidebar-main").addClass("unfold"),D=b(e),D.prepend(A),p(),r()}function p(){var t=w.requestUrl+"/console/api/getJSONPforSideBar";b.ajax({url:t,data:{v:1},cache:!1,dataType:"jsonp",jsonpCallback:"ds_console_sidebar_callback",success:function(t){h(t)?(a(t.iconCssUrl),w.defaultData=t.data):m(t)&&(w.defaultData=t),u(),v()}})}function h(t){return"[object Object]"===Object.prototype.toString.call(t)}function m(t){return"[object Array]"===Object.prototype.toString.call(t)}function v(){for(var t=0;t<y.length;t++)try{y[t]()}catch(e){throw e}}if(!t.jQuery)throw"jQuery is NEED for aliyun dataplus console sidebar. Recommand 1.10.2";var b=t.jQuery,y=[],g=window.DS_CONSOLE_SIDEBAR_CONFIG,j=g&&g.env?g.env:"prod",C=e(j),w={env:j,parentId:null,defaultData:n(),spm:"0",defaultUnfold:!1,defaultUrl:C,defaultAction:null,requestUrl:C};g&&b.extend(w,g);var A=null,D=null;t.DSConsoleSidebar={show:function(){A.find(".ds-console-sidebar-main").addClass("unfold")},hide:function(){A.find(".ds-console-sidebar-main").removeClass("unfold")},select:function(t){A.find("a.action").removeClass("action"),A.find("#"+t).addClass("action")},onload:function(t){if("function"!=typeof t)throw"Not is callback function type.";y.push(t)}},b(document).ready(f)}(window);